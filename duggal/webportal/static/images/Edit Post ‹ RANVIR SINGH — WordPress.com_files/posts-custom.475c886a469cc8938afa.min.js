webpackJsonp([19],{1635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(router){if(!_config2.default.isEnabled("manage/custom-post-types")){return}router("/types/:type/:status?/:site",_controller.siteSelection,_controller.navigation,_controller2.list);router("/types/:type",_controller.siteSelection,_controller.sites);router("/types",_controller2.redirect)};var _controller=__webpack_require__(720);var _controller2=__webpack_require__(2999);var _config=__webpack_require__(12);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=exports["default"]},1692:function(module,exports,__webpack_require__){"use strict";var url=__webpack_require__(70),pick=__webpack_require__(91);module.exports=function(uri,search){var parsedUrl=url.parse(uri,true);if(search){parsedUrl.query.s=search}else{delete parsedUrl.query.s}parsedUrl=pick(parsedUrl,"pathname","hash","query");return url.format(parsedUrl).replace(/\%20/g,"+")}},1693:function(module,exports,__webpack_require__){"use strict";var debug=__webpack_require__(3)("calypso:url-search"),page=__webpack_require__(33);var buildUrl=__webpack_require__(1692);module.exports={getInitialState:function getInitialState(){return{searchOpen:false}},componentWillReceiveProps:function componentWillReceiveProps(nextProps){if(!nextProps.search){this.setState({searchOpen:false})}},doSearch:function doSearch(keywords){var searchURL;this.setState({searchOpen:false!==keywords});if(this.onSearch){this.onSearch(keywords);return}searchURL=buildUrl(window.location.href,keywords);debug("search posts for:",keywords);if(this.props.search&&keywords){debug("replacing URL: "+searchURL);page.replace(searchURL)}else{debug("setting URL: "+searchURL);page(searchURL)}},getSearchOpen:function getSearchOpen(){return this.state.searchOpen!==false||this.props.search}}},1736:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageViewTracker=undefined;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _flowRight=__webpack_require__(173);var _flowRight2=_interopRequireDefault(_flowRight);var _noop=__webpack_require__(38);var _noop2=_interopRequireDefault(_noop);var _reactRedux=__webpack_require__(15);var _actions=__webpack_require__(133);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PageViewTracker=exports.PageViewTracker=_react2.default.createClass({displayName:"PageViewTracker",getInitialState:function getInitialState(){return{timer:null}},componentDidMount:function componentDidMount(){this.queuePageView()},componentWillUnmount:function componentWillUnmount(){clearTimeout(this.state.timer)},queuePageView:function queuePageView(){var _props=this.props;var _props$delay=_props.delay;var delay=_props$delay===undefined?0:_props$delay;var path=_props.path;var _props$recorder=_props.recorder;var recorder=_props$recorder===undefined?_noop2.default:_props$recorder;var title=_props.title;if(this.state.timer){return}if(!delay){return recorder(path,title)}this.setState({timer:setTimeout(function(){return recorder(path,title)},delay)})},render:function render(){return null}});PageViewTracker.propTypes={delay:_react.PropTypes.number,path:_react.PropTypes.string.isRequired,recorder:_react.PropTypes.func,title:_react.PropTypes.string.isRequired};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{recorder:(0,_flowRight2.default)(dispatch,_actions.recordPageView)}};exports.default=(0,_reactRedux.connect)(null,mapDispatchToProps)(PageViewTracker)},1744:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{window.classNames=classNames}})()},1794:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=__webpack_require__(7);var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends3=__webpack_require__(16);var _extends4=_interopRequireDefault(_extends3);exports.isRequestingPostCounts=isRequestingPostCounts;exports.getAllPostCounts=getAllPostCounts;exports.getAllPostCount=getAllPostCount;exports.getMyPostCounts=getMyPostCounts;exports.getMyPostCount=getMyPostCount;exports.getNormalizedPostCounts=getNormalizedPostCounts;exports.getNormalizedMyPostCounts=getNormalizedMyPostCounts;var _get=__webpack_require__(24);var _get2=_interopRequireDefault(_get);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var POST_STATUSES=["publish","draft","pending","private","future","trash"];function isRequestingPostCounts(state,siteId,postType){return(0,_get2.default)(state.posts.counts.requesting,[siteId,postType],false)}function getAllPostCounts(state,siteId,postType){return(0,_get2.default)(state.posts.counts.counts,[siteId,postType,"all"],null)}function getAllPostCount(state,siteId,postType,status){var counts=getAllPostCounts(state,siteId,postType);if(!counts){return null}return counts[status]||0}function getMyPostCounts(state,siteId,postType){return(0,_get2.default)(state.posts.counts.counts,[siteId,postType,"mine"],null)}function getMyPostCount(state,siteId,postType,status){var counts=getMyPostCounts(state,siteId,postType);if(!counts){return null}return counts[status]||0}function getNormalizedPostCounts(state,siteId,postType){var countSelector=arguments.length>3&&arguments[3]!==undefined?arguments[3]:getAllPostCounts;var counts=countSelector(state,siteId,postType);return POST_STATUSES.reduce(function(memo,status){var count=(0,_get2.default)(counts,status,0);var key=void 0;switch(status){case"publish":case"private":key="publish";break;case"draft":case"pending":key="draft";break;default:key=status}return(0,_extends4.default)({},memo,(0,_defineProperty3.default)({},key,(memo[key]||0)+count))},{})}function getNormalizedMyPostCounts(state,siteId,postType){return getNormalizedPostCounts(state,siteId,postType,getMyPostCounts)}},1801:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=defaultCellRangeRenderer;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(1744);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function defaultCellRangeRenderer(_ref){var cellCache=_ref.cellCache;var cellClassName=_ref.cellClassName;var cellRenderer=_ref.cellRenderer;var cellStyle=_ref.cellStyle;var columnSizeAndPositionManager=_ref.columnSizeAndPositionManager;var columnStartIndex=_ref.columnStartIndex;var columnStopIndex=_ref.columnStopIndex;var horizontalOffsetAdjustment=_ref.horizontalOffsetAdjustment;var isScrolling=_ref.isScrolling;var rowSizeAndPositionManager=_ref.rowSizeAndPositionManager;var rowStartIndex=_ref.rowStartIndex;var rowStopIndex=_ref.rowStopIndex;var scrollLeft=_ref.scrollLeft;var scrollTop=_ref.scrollTop;var verticalOffsetAdjustment=_ref.verticalOffsetAdjustment;var renderedCells=[];for(var rowIndex=rowStartIndex;rowIndex<=rowStopIndex;rowIndex++){var rowDatum=rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);for(var columnIndex=columnStartIndex;columnIndex<=columnStopIndex;columnIndex++){var columnDatum=columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);var key=rowIndex+"-"+columnIndex;var cellStyleObject=cellStyle({rowIndex:rowIndex,columnIndex:columnIndex});var renderedCell=void 0;if(isScrolling){if(!cellCache[key]){cellCache[key]=cellRenderer({columnIndex:columnIndex,isScrolling:isScrolling,rowIndex:rowIndex})}renderedCell=cellCache[key]}else{renderedCell=cellRenderer({columnIndex:columnIndex,isScrolling:isScrolling,rowIndex:rowIndex})}if(renderedCell==null||renderedCell===false){continue}var className=cellClassName({columnIndex:columnIndex,rowIndex:rowIndex});var child=_react2.default.createElement("div",{key:key,className:(0,_classnames2.default)("Grid__cell",className),style:_extends({},cellStyleObject,{height:rowDatum.size,left:columnDatum.offset+horizontalOffsetAdjustment,top:rowDatum.offset+verticalOffsetAdjustment,width:columnDatum.size})},renderedCell);renderedCells.push(child)}}return renderedCells}},1864:function(module,exports,__webpack_require__){"use strict";var canUseDOM=__webpack_require__(1935);var size;module.exports=function(recalc){if(!size||recalc){if(canUseDOM){var scrollDiv=document.createElement("div");scrollDiv.style.position="absolute";scrollDiv.style.top="-9999px";scrollDiv.style.width="50px";scrollDiv.style.height="50px";scrollDiv.style.overflow="scroll";document.body.appendChild(scrollDiv);size=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv)}}return size}},1870:function(module,exports,__webpack_require__){(function(global){var now=__webpack_require__(1948),root=typeof window==="undefined"?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i=0;!raf&&i<vendors.length;i++){raf=root[vendors[i]+"Request"+suffix];caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix]}if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(queue.length===0){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now;setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++){if(!cp[i].cancelled){try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}}}},Math.round(next))}queue.push({handle:++id,callback:callback,cancelled:false});return id};caf=function(handle){for(var i=0;i<queue.length;i++){if(queue[i].handle===handle){queue[i].cancelled=true}}}}module.exports=function(fn){return raf.call(root,fn)};module.exports.cancel=function(){caf.apply(root,arguments)};module.exports.polyfill=function(){root.requestAnimationFrame=raf;root.cancelAnimationFrame=caf}}).call(exports,function(){return this}())},1871:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VirtualScroll=exports.default=undefined;var _VirtualScroll2=__webpack_require__(1956);var _VirtualScroll3=_interopRequireDefault(_VirtualScroll2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_VirtualScroll3.default;exports.VirtualScroll=_VirtualScroll3.default},1880:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _reactRedux=__webpack_require__(15);var _actions=__webpack_require__(1922);var _selectors=__webpack_require__(1794);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var QueryPostCounts=function(_Component){(0,_inherits3.default)(QueryPostCounts,_Component);function QueryPostCounts(){(0,_classCallCheck3.default)(this,QueryPostCounts);return(0,_possibleConstructorReturn3.default)(this,(QueryPostCounts.__proto__||(0,_getPrototypeOf2.default)(QueryPostCounts)).apply(this,arguments))}(0,_createClass3.default)(QueryPostCounts,[{key:"componentWillMount",value:function componentWillMount(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(this.props.siteId===nextProps.siteId&&this.props.type===nextProps.type){return}this.request(nextProps)}},{key:"request",value:function request(props){if(props.requesting){return}props.requestPostCounts(props.siteId,props.type)}},{key:"render",value:function render(){return null}}]);return QueryPostCounts}(_react.Component);QueryPostCounts.propTypes={siteId:_react.PropTypes.number.isRequired,type:_react.PropTypes.string.isRequired,requesting:_react.PropTypes.bool,requestPostCounts:_react.PropTypes.func};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var siteId=ownProps.siteId;var type=ownProps.type;return{requesting:(0,_selectors.isRequestingPostCounts)(state,siteId,type)}},{requestPostCounts:_actions.requestPostCounts})(QueryPostCounts);module.exports=exports["default"]},1922:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.receivePostCounts=receivePostCounts;exports.requestPostCounts=requestPostCounts;var _wp=__webpack_require__(28);var _wp2=_interopRequireDefault(_wp);var _actionTypes=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function receivePostCounts(siteId,postType,counts){return{type:_actionTypes.POST_COUNTS_RECEIVE,siteId:siteId,postType:postType,counts:counts}}function requestPostCounts(siteId,postType){return function(dispatch){dispatch({type:_actionTypes.POST_COUNTS_REQUEST,postType:postType,siteId:siteId});return _wp2.default.undocumented().site(siteId).postCounts({type:postType}).then(function(data){dispatch(receivePostCounts(siteId,postType,data.counts));dispatch({type:_actionTypes.POST_COUNTS_REQUEST_SUCCESS,siteId:siteId,postType:postType})}).catch(function(error){dispatch({type:_actionTypes.POST_COUNTS_REQUEST_FAILURE,siteId:siteId,postType:postType,error:error})})}}},1935:function(module,exports){"use strict";module.exports=!!(typeof window!=="undefined"&&window.document&&window.document.createElement)},1948:function(module,exports,__webpack_require__){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;if(typeof performance!=="undefined"&&performance!==null&&performance.now){module.exports=function(){return performance.now()}}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){module.exports=function(){return(getNanoSeconds()-loadTime)/1e6};hrtime=process.hrtime;getNanoSeconds=function(){var hr;hr=hrtime();return hr[0]*1e9+hr[1]};loadTime=getNanoSeconds()}else if(Date.now){module.exports=function(){return Date.now()-loadTime};loadTime=Date.now()}else{module.exports=function(){return(new Date).getTime()-loadTime};loadTime=(new Date).getTime()}}).call(this)}).call(exports,__webpack_require__(54))},1949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(1744);var _classnames2=_interopRequireDefault(_classnames);var _calculateSizeAndPositionDataAndUpdateScrollOffset=__webpack_require__(1953);var _calculateSizeAndPositionDataAndUpdateScrollOffset2=_interopRequireDefault(_calculateSizeAndPositionDataAndUpdateScrollOffset);var _ScalingCellSizeAndPositionManager=__webpack_require__(1952);var _ScalingCellSizeAndPositionManager2=_interopRequireDefault(_ScalingCellSizeAndPositionManager);var _createCallbackMemoizer=__webpack_require__(1957);var _createCallbackMemoizer2=_interopRequireDefault(_createCallbackMemoizer);var _getOverscanIndices=__webpack_require__(1954);var _getOverscanIndices2=_interopRequireDefault(_getOverscanIndices);var _scrollbarSize=__webpack_require__(1864);var _scrollbarSize2=_interopRequireDefault(_scrollbarSize);var _raf=__webpack_require__(1870);var _raf2=_interopRequireDefault(_raf);var _reactAddonsShallowCompare=__webpack_require__(738);var _reactAddonsShallowCompare2=_interopRequireDefault(_reactAddonsShallowCompare);var _updateScrollIndexHelper=__webpack_require__(1955);var _updateScrollIndexHelper2=_interopRequireDefault(_updateScrollIndexHelper);var _defaultCellRangeRenderer=__webpack_require__(1801);var _defaultCellRangeRenderer2=_interopRequireDefault(_defaultCellRangeRenderer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IS_SCROLLING_TIMEOUT=150;var SCROLL_POSITION_CHANGE_REASONS={OBSERVED:"observed",REQUESTED:"requested"};var Grid=function(_Component){_inherits(Grid,_Component);function Grid(props,context){_classCallCheck(this,Grid);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Grid).call(this,props,context));_this.state={isScrolling:false,scrollLeft:0,scrollTop:0};_this._onGridRenderedMemoizer=(0,_createCallbackMemoizer2.default)();_this._onScrollMemoizer=(0,_createCallbackMemoizer2.default)(false);_this._enablePointerEventsAfterDelayCallback=_this._enablePointerEventsAfterDelayCallback.bind(_this);_this._invokeOnGridRenderedHelper=_this._invokeOnGridRenderedHelper.bind(_this);_this._onScroll=_this._onScroll.bind(_this);_this._setNextStateCallback=_this._setNextStateCallback.bind(_this);_this._updateScrollLeftForScrollToColumn=_this._updateScrollLeftForScrollToColumn.bind(_this);_this._updateScrollTopForScrollToRow=_this._updateScrollTopForScrollToRow.bind(_this);_this._columnWidthGetter=_this._wrapSizeGetter(props.columnWidth);_this._rowHeightGetter=_this._wrapSizeGetter(props.rowHeight);_this._columnSizeAndPositionManager=new _ScalingCellSizeAndPositionManager2.default({cellCount:props.columnCount,cellSizeGetter:function cellSizeGetter(index){return _this._columnWidthGetter(index)},estimatedCellSize:_this._getEstimatedColumnSize(props)});_this._rowSizeAndPositionManager=new _ScalingCellSizeAndPositionManager2.default({cellCount:props.rowCount,cellSizeGetter:function cellSizeGetter(index){return _this._rowHeightGetter(index)},estimatedCellSize:_this._getEstimatedRowSize(props)});_this._cellCache={};return _this}_createClass(Grid,[{key:"measureAllCells",value:function measureAllCells(){var _props=this.props;var columnCount=_props.columnCount;var rowCount=_props.rowCount;this._columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount-1);this._rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount-1)}},{key:"recomputeGridSize",value:function recomputeGridSize(){this._columnSizeAndPositionManager.resetCell(0);this._rowSizeAndPositionManager.resetCell(0);this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){var _props2=this.props;var scrollLeft=_props2.scrollLeft;var scrollToColumn=_props2.scrollToColumn;var scrollTop=_props2.scrollTop;var scrollToRow=_props2.scrollToRow;if(!this._scrollbarSizeMeasured){this._scrollbarSize=(0,_scrollbarSize2.default)();this._scrollbarSizeMeasured=true;this.setState({})}if(scrollLeft>=0||scrollTop>=0){this._setScrollPosition({scrollLeft:scrollLeft,scrollTop:scrollTop})}if(scrollToColumn>=0||scrollToRow>=0){this._updateScrollLeftForScrollToColumn();this._updateScrollTopForScrollToRow()}this._invokeOnGridRenderedHelper();this._invokeOnScrollMemoizer({scrollLeft:scrollLeft||0,scrollTop:scrollTop||0,totalColumnsWidth:this._columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:this._rowSizeAndPositionManager.getTotalSize()})}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this2=this;var _props3=this.props;var autoHeight=_props3.autoHeight;var height=_props3.height;var scrollToAlignment=_props3.scrollToAlignment;var scrollToColumn=_props3.scrollToColumn;var scrollToRow=_props3.scrollToRow;var width=_props3.width;var _state=this.state;var scrollLeft=_state.scrollLeft;var scrollPositionChangeReason=_state.scrollPositionChangeReason;var scrollTop=_state.scrollTop;if(scrollPositionChangeReason===SCROLL_POSITION_CHANGE_REASONS.REQUESTED){if(scrollLeft>=0&&scrollLeft!==prevState.scrollLeft&&scrollLeft!==this.refs.scrollingContainer.scrollLeft){this.refs.scrollingContainer.scrollLeft=scrollLeft}if(!autoHeight&&scrollTop>=0&&scrollTop!==prevState.scrollTop&&scrollTop!==this.refs.scrollingContainer.scrollTop){this.refs.scrollingContainer.scrollTop=scrollTop}}(0,_updateScrollIndexHelper2.default)({cellSizeAndPositionManager:this._columnSizeAndPositionManager,previousCellsCount:prevProps.columnCount,previousCellSize:prevProps.columnWidth,previousScrollToAlignment:prevProps.scrollToAlignment,previousScrollToIndex:prevProps.scrollToColumn,previousSize:prevProps.width,scrollOffset:scrollLeft,scrollToAlignment:scrollToAlignment,scrollToIndex:scrollToColumn,size:width,updateScrollIndexCallback:function updateScrollIndexCallback(scrollToColumn){return _this2._updateScrollLeftForScrollToColumn(_extends({},_this2.props,{scrollToColumn:scrollToColumn}))}});(0,_updateScrollIndexHelper2.default)({cellSizeAndPositionManager:this._rowSizeAndPositionManager,previousCellsCount:prevProps.rowCount,previousCellSize:prevProps.rowHeight,previousScrollToAlignment:prevProps.scrollToAlignment,previousScrollToIndex:prevProps.scrollToRow,previousSize:prevProps.height,scrollOffset:scrollTop,scrollToAlignment:scrollToAlignment,scrollToIndex:scrollToRow,size:height,updateScrollIndexCallback:function updateScrollIndexCallback(scrollToRow){return _this2._updateScrollTopForScrollToRow(_extends({},_this2.props,{scrollToRow:scrollToRow}))}});this._invokeOnGridRenderedHelper()}},{key:"componentWillMount",value:function componentWillMount(){this._scrollbarSize=(0,_scrollbarSize2.default)();if(this._scrollbarSize===undefined){this._scrollbarSizeMeasured=false;this._scrollbarSize=0}else{this._scrollbarSizeMeasured=true}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this._disablePointerEventsTimeoutId){clearTimeout(this._disablePointerEventsTimeoutId)}if(this._setNextStateAnimationFrameId){_raf2.default.cancel(this._setNextStateAnimationFrameId)}}},{key:"componentWillUpdate",value:function componentWillUpdate(nextProps,nextState){var _this3=this;if(nextProps.columnCount===0&&nextState.scrollLeft!==0||nextProps.rowCount===0&&nextState.scrollTop!==0){this._setScrollPosition({scrollLeft:0,scrollTop:0})}else if(nextProps.scrollLeft!==this.props.scrollLeft||nextProps.scrollTop!==this.props.scrollTop){this._setScrollPosition({scrollLeft:nextProps.scrollLeft,scrollTop:nextProps.scrollTop})}this._columnWidthGetter=this._wrapSizeGetter(nextProps.columnWidth);this._rowHeightGetter=this._wrapSizeGetter(nextProps.rowHeight);this._columnSizeAndPositionManager.configure({cellCount:nextProps.columnCount,estimatedCellSize:this._getEstimatedColumnSize(nextProps)});this._rowSizeAndPositionManager.configure({cellCount:nextProps.rowCount,estimatedCellSize:this._getEstimatedRowSize(nextProps)});(0,_calculateSizeAndPositionDataAndUpdateScrollOffset2.default)({cellCount:this.props.columnCount,cellSize:this.props.columnWidth,computeMetadataCallback:function computeMetadataCallback(){return _this3._columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:nextProps,nextCellsCount:nextProps.columnCount,nextCellSize:nextProps.columnWidth,nextScrollToIndex:nextProps.scrollToColumn,scrollToIndex:this.props.scrollToColumn,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){return _this3._updateScrollLeftForScrollToColumn(nextProps,nextState)}});(0,_calculateSizeAndPositionDataAndUpdateScrollOffset2.default)({cellCount:this.props.rowCount,cellSize:this.props.rowHeight,computeMetadataCallback:function computeMetadataCallback(){return _this3._rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:nextProps,nextCellsCount:nextProps.rowCount,nextCellSize:nextProps.rowHeight,nextScrollToIndex:nextProps.scrollToRow,scrollToIndex:this.props.scrollToRow,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){return _this3._updateScrollTopForScrollToRow(nextProps,nextState)}})}},{key:"render",value:function render(){var _props4=this.props;var cellClassName=_props4.cellClassName;var cellRenderer=_props4.cellRenderer;var cellRangeRenderer=_props4.cellRangeRenderer;var cellStyle=_props4.cellStyle;var className=_props4.className;var columnCount=_props4.columnCount;var height=_props4.height;var noContentRenderer=_props4.noContentRenderer;var overscanColumnCount=_props4.overscanColumnCount;var overscanRowCount=_props4.overscanRowCount;var autoHeight=_props4.autoHeight;var rowCount=_props4.rowCount;var style=_props4.style;var tabIndex=_props4.tabIndex;var width=_props4.width;var _state2=this.state;var isScrolling=_state2.isScrolling;var scrollLeft=_state2.scrollLeft;var scrollTop=_state2.scrollTop;var childrenToDisplay=[];if(height>0&&width>0){var visibleColumnIndices=this._columnSizeAndPositionManager.getVisibleCellRange({containerSize:width,offset:scrollLeft});var visibleRowIndices=this._rowSizeAndPositionManager.getVisibleCellRange({containerSize:height,offset:scrollTop});var horizontalOffsetAdjustment=this._columnSizeAndPositionManager.getOffsetAdjustment({containerSize:width,offset:scrollLeft});var verticalOffsetAdjustment=this._rowSizeAndPositionManager.getOffsetAdjustment({containerSize:height,offset:scrollTop});this._renderedColumnStartIndex=visibleColumnIndices.start;this._renderedColumnStopIndex=visibleColumnIndices.stop;this._renderedRowStartIndex=visibleRowIndices.start;this._renderedRowStopIndex=visibleRowIndices.stop;var overscanColumnIndices=(0,_getOverscanIndices2.default)({cellCount:columnCount,overscanCellsCount:overscanColumnCount,startIndex:this._renderedColumnStartIndex,stopIndex:this._renderedColumnStopIndex});var overscanRowIndices=(0,_getOverscanIndices2.default)({cellCount:rowCount,overscanCellsCount:overscanRowCount,startIndex:this._renderedRowStartIndex,stopIndex:this._renderedRowStopIndex});this._columnStartIndex=overscanColumnIndices.overscanStartIndex;this._columnStopIndex=overscanColumnIndices.overscanStopIndex;this._rowStartIndex=overscanRowIndices.overscanStartIndex;this._rowStopIndex=overscanRowIndices.overscanStopIndex;childrenToDisplay=cellRangeRenderer({cellCache:this._cellCache,cellClassName:this._wrapCellClassNameGetter(cellClassName),cellRenderer:cellRenderer,cellStyle:this._wrapCellStyleGetter(cellStyle),columnSizeAndPositionManager:this._columnSizeAndPositionManager,columnStartIndex:this._columnStartIndex,columnStopIndex:this._columnStopIndex,horizontalOffsetAdjustment:horizontalOffsetAdjustment,isScrolling:isScrolling,rowSizeAndPositionManager:this._rowSizeAndPositionManager,rowStartIndex:this._rowStartIndex,rowStopIndex:this._rowStopIndex,scrollLeft:scrollLeft,scrollTop:scrollTop,verticalOffsetAdjustment:verticalOffsetAdjustment})}var gridStyle=_extends({},style,{height:autoHeight?"auto":height,width:width});var totalColumnsWidth=this._columnSizeAndPositionManager.getTotalSize();var totalRowsHeight=this._rowSizeAndPositionManager.getTotalSize();var verticalScrollBarSize=totalRowsHeight>height?this._scrollbarSize:0;var horizontalScrollBarSize=totalColumnsWidth>width?this._scrollbarSize:0;if(totalColumnsWidth+verticalScrollBarSize<=width){gridStyle.overflowX="hidden"}if(totalRowsHeight+horizontalScrollBarSize<=height){gridStyle.overflowY="hidden"}var showNoContentRenderer=childrenToDisplay.length===0&&height>0&&width>0;return _react2.default.createElement("div",{ref:"scrollingContainer","aria-label":this.props["aria-label"],className:(0,_classnames2.default)("Grid",className),onScroll:this._onScroll,role:"grid",style:gridStyle,tabIndex:tabIndex},childrenToDisplay.length>0&&_react2.default.createElement("div",{className:"Grid__innerScrollContainer",style:{width:totalColumnsWidth,height:totalRowsHeight,maxWidth:totalColumnsWidth,maxHeight:totalRowsHeight,pointerEvents:isScrolling?"none":"auto"}},childrenToDisplay),showNoContentRenderer&&noContentRenderer())}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return(0,_reactAddonsShallowCompare2.default)(this,nextProps,nextState)}},{key:"_enablePointerEventsAfterDelay",value:function _enablePointerEventsAfterDelay(){if(this._disablePointerEventsTimeoutId){clearTimeout(this._disablePointerEventsTimeoutId)}this._disablePointerEventsTimeoutId=setTimeout(this._enablePointerEventsAfterDelayCallback,IS_SCROLLING_TIMEOUT)}},{key:"_enablePointerEventsAfterDelayCallback",value:function _enablePointerEventsAfterDelayCallback(){this._disablePointerEventsTimeoutId=null;this._cellCache={};this.setState({isScrolling:false})}},{key:"_getEstimatedColumnSize",value:function _getEstimatedColumnSize(props){return typeof props.columnWidth==="number"?props.columnWidth:props.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function _getEstimatedRowSize(props){return typeof props.rowHeight==="number"?props.rowHeight:props.estimatedRowSize}},{key:"_invokeOnGridRenderedHelper",value:function _invokeOnGridRenderedHelper(){var onSectionRendered=this.props.onSectionRendered;this._onGridRenderedMemoizer({callback:onSectionRendered,indices:{columnOverscanStartIndex:this._columnStartIndex,columnOverscanStopIndex:this._columnStopIndex,columnStartIndex:this._renderedColumnStartIndex,columnStopIndex:this._renderedColumnStopIndex,rowOverscanStartIndex:this._rowStartIndex,rowOverscanStopIndex:this._rowStopIndex,rowStartIndex:this._renderedRowStartIndex,rowStopIndex:this._renderedRowStopIndex}})}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(_ref){var _this4=this;var scrollLeft=_ref.scrollLeft;var scrollTop=_ref.scrollTop;
var totalColumnsWidth=_ref.totalColumnsWidth;var totalRowsHeight=_ref.totalRowsHeight;this._onScrollMemoizer({callback:function callback(_ref2){var scrollLeft=_ref2.scrollLeft;var scrollTop=_ref2.scrollTop;var _props5=_this4.props;var height=_props5.height;var onScroll=_props5.onScroll;var width=_props5.width;onScroll({clientHeight:height,clientWidth:width,scrollHeight:totalRowsHeight,scrollLeft:scrollLeft,scrollTop:scrollTop,scrollWidth:totalColumnsWidth})},indices:{scrollLeft:scrollLeft,scrollTop:scrollTop}})}},{key:"_setNextState",value:function _setNextState(state){this._nextState=state;if(!this._setNextStateAnimationFrameId){this._setNextStateAnimationFrameId=(0,_raf2.default)(this._setNextStateCallback)}}},{key:"_setNextStateCallback",value:function _setNextStateCallback(){var state=this._nextState;this._setNextStateAnimationFrameId=null;this._nextState=null;this.setState(state)}},{key:"_setScrollPosition",value:function _setScrollPosition(_ref3){var scrollLeft=_ref3.scrollLeft;var scrollTop=_ref3.scrollTop;var newState={scrollPositionChangeReason:SCROLL_POSITION_CHANGE_REASONS.REQUESTED};if(scrollLeft>=0){newState.scrollLeft=scrollLeft}if(scrollTop>=0){newState.scrollTop=scrollTop}if(scrollLeft>=0&&scrollLeft!==this.state.scrollLeft||scrollTop>=0&&scrollTop!==this.state.scrollTop){this.setState(newState)}}},{key:"_wrapCellClassNameGetter",value:function _wrapCellClassNameGetter(className){return this._wrapPropertyGetter(className)}},{key:"_wrapCellStyleGetter",value:function _wrapCellStyleGetter(style){return this._wrapPropertyGetter(style)}},{key:"_wrapPropertyGetter",value:function _wrapPropertyGetter(value){return value instanceof Function?value:function(){return value}}},{key:"_wrapSizeGetter",value:function _wrapSizeGetter(size){return this._wrapPropertyGetter(size)}},{key:"_updateScrollLeftForScrollToColumn",value:function _updateScrollLeftForScrollToColumn(){var props=arguments.length<=0||arguments[0]===undefined?this.props:arguments[0];var state=arguments.length<=1||arguments[1]===undefined?this.state:arguments[1];var columnCount=props.columnCount;var scrollToAlignment=props.scrollToAlignment;var scrollToColumn=props.scrollToColumn;var width=props.width;var scrollLeft=state.scrollLeft;if(scrollToColumn>=0&&columnCount>0){var targetIndex=Math.max(0,Math.min(columnCount-1,scrollToColumn));var calculatedScrollLeft=this._columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:scrollToAlignment,containerSize:width,currentOffset:scrollLeft,targetIndex:targetIndex});if(scrollLeft!==calculatedScrollLeft){this._setScrollPosition({scrollLeft:calculatedScrollLeft})}}}},{key:"_updateScrollTopForScrollToRow",value:function _updateScrollTopForScrollToRow(){var props=arguments.length<=0||arguments[0]===undefined?this.props:arguments[0];var state=arguments.length<=1||arguments[1]===undefined?this.state:arguments[1];var height=props.height;var rowCount=props.rowCount;var scrollToAlignment=props.scrollToAlignment;var scrollToRow=props.scrollToRow;var scrollTop=state.scrollTop;if(scrollToRow>=0&&rowCount>0){var targetIndex=Math.max(0,Math.min(rowCount-1,scrollToRow));var calculatedScrollTop=this._rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:scrollToAlignment,containerSize:height,currentOffset:scrollTop,targetIndex:targetIndex});if(scrollTop!==calculatedScrollTop){this._setScrollPosition({scrollTop:calculatedScrollTop})}}}},{key:"_onScroll",value:function _onScroll(event){if(event.target!==this.refs.scrollingContainer){return}this._enablePointerEventsAfterDelay();var _props6=this.props;var height=_props6.height;var width=_props6.width;var scrollbarSize=this._scrollbarSize;var totalRowsHeight=this._rowSizeAndPositionManager.getTotalSize();var totalColumnsWidth=this._columnSizeAndPositionManager.getTotalSize();var scrollLeft=Math.min(Math.max(0,totalColumnsWidth-width+scrollbarSize),event.target.scrollLeft);var scrollTop=Math.min(Math.max(0,totalRowsHeight-height+scrollbarSize),event.target.scrollTop);if(this.state.scrollLeft!==scrollLeft||this.state.scrollTop!==scrollTop){var scrollPositionChangeReason=event.cancelable?SCROLL_POSITION_CHANGE_REASONS.OBSERVED:SCROLL_POSITION_CHANGE_REASONS.REQUESTED;if(!this.state.isScrolling){this.setState({isScrolling:true})}this._setNextState({isScrolling:true,scrollLeft:scrollLeft,scrollPositionChangeReason:scrollPositionChangeReason,scrollTop:scrollTop})}this._invokeOnScrollMemoizer({scrollLeft:scrollLeft,scrollTop:scrollTop,totalColumnsWidth:totalColumnsWidth,totalRowsHeight:totalRowsHeight})}}]);return Grid}(_react.Component);Grid.propTypes={"aria-label":_react.PropTypes.string,autoHeight:_react.PropTypes.bool,cellClassName:_react.PropTypes.oneOfType([_react.PropTypes.string,_react.PropTypes.func]),cellStyle:_react.PropTypes.oneOfType([_react.PropTypes.object,_react.PropTypes.func]),cellRenderer:_react.PropTypes.func.isRequired,cellRangeRenderer:_react.PropTypes.func.isRequired,className:_react.PropTypes.string,columnCount:_react.PropTypes.number.isRequired,columnWidth:_react.PropTypes.oneOfType([_react.PropTypes.number,_react.PropTypes.func]).isRequired,estimatedColumnSize:_react.PropTypes.number.isRequired,estimatedRowSize:_react.PropTypes.number.isRequired,height:_react.PropTypes.number.isRequired,noContentRenderer:_react.PropTypes.func.isRequired,onScroll:_react.PropTypes.func.isRequired,onSectionRendered:_react.PropTypes.func.isRequired,overscanColumnCount:_react.PropTypes.number.isRequired,overscanRowCount:_react.PropTypes.number.isRequired,rowHeight:_react.PropTypes.oneOfType([_react.PropTypes.number,_react.PropTypes.func]).isRequired,rowCount:_react.PropTypes.number.isRequired,scrollLeft:_react.PropTypes.number,scrollToAlignment:_react.PropTypes.oneOf(["auto","end","start","center"]).isRequired,scrollToColumn:_react.PropTypes.number,scrollTop:_react.PropTypes.number,scrollToRow:_react.PropTypes.number,style:_react.PropTypes.object,tabIndex:_react.PropTypes.number,width:_react.PropTypes.number.isRequired};Grid.defaultProps={"aria-label":"grid",cellStyle:{},cellRangeRenderer:_defaultCellRangeRenderer2.default,estimatedColumnSize:100,estimatedRowSize:30,noContentRenderer:function noContentRenderer(){return null},onScroll:function onScroll(){return null},onSectionRendered:function onSectionRendered(){return null},overscanColumnCount:0,overscanRowCount:10,scrollToAlignment:"auto",style:{},tabIndex:0};exports.default=Grid},1950:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultCellRangeRenderer=exports.Grid=exports.default=undefined;var _Grid2=__webpack_require__(1949);var _Grid3=_interopRequireDefault(_Grid2);var _defaultCellRangeRenderer2=__webpack_require__(1801);var _defaultCellRangeRenderer3=_interopRequireDefault(_defaultCellRangeRenderer2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_Grid3.default;exports.Grid=_Grid3.default;exports.defaultCellRangeRenderer=_defaultCellRangeRenderer3.default},1951:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var CellSizeAndPositionManager=function(){function CellSizeAndPositionManager(_ref){var cellCount=_ref.cellCount;var cellSizeGetter=_ref.cellSizeGetter;var estimatedCellSize=_ref.estimatedCellSize;_classCallCheck(this,CellSizeAndPositionManager);this._cellSizeGetter=cellSizeGetter;this._cellCount=cellCount;this._estimatedCellSize=estimatedCellSize;this._cellSizeAndPositionData={};this._lastMeasuredIndex=-1}_createClass(CellSizeAndPositionManager,[{key:"configure",value:function configure(_ref2){var cellCount=_ref2.cellCount;var estimatedCellSize=_ref2.estimatedCellSize;this._cellCount=cellCount;this._estimatedCellSize=estimatedCellSize}},{key:"getCellCount",value:function getCellCount(){return this._cellCount}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._lastMeasuredIndex}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(index){if(index<0||index>=this._cellCount){throw Error("Requested index "+index+" is outside of range 0.."+this._cellCount)}if(index>this._lastMeasuredIndex){var lastMeasuredCellSizeAndPosition=this.getSizeAndPositionOfLastMeasuredCell();var _offset=lastMeasuredCellSizeAndPosition.offset+lastMeasuredCellSizeAndPosition.size;for(var i=this._lastMeasuredIndex+1;i<=index;i++){var _size=this._cellSizeGetter({index:i});if(_size==null||isNaN(_size)){throw Error("Invalid size returned for cell "+i+" of value "+_size)}this._cellSizeAndPositionData[i]={offset:_offset,size:_size};_offset+=_size}this._lastMeasuredIndex=index}return this._cellSizeAndPositionData[index]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function getTotalSize(){var lastMeasuredCellSizeAndPosition=this.getSizeAndPositionOfLastMeasuredCell();return lastMeasuredCellSizeAndPosition.offset+lastMeasuredCellSizeAndPosition.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(_ref3){var _ref3$align=_ref3.align;var align=_ref3$align===undefined?"auto":_ref3$align;var containerSize=_ref3.containerSize;var currentOffset=_ref3.currentOffset;var targetIndex=_ref3.targetIndex;var datum=this.getSizeAndPositionOfCell(targetIndex);var maxOffset=datum.offset;var minOffset=maxOffset-containerSize+datum.size;switch(align){case"start":return maxOffset;case"end":return minOffset;case"center":return maxOffset-(containerSize+datum.size)/2;default:return Math.max(minOffset,Math.min(maxOffset,currentOffset))}}},{key:"getVisibleCellRange",value:function getVisibleCellRange(_ref4){var containerSize=_ref4.containerSize;var offset=_ref4.offset;var totalSize=this.getTotalSize();if(totalSize===0){return{}}var maxOffset=offset+containerSize;var start=this._findNearestCell(offset);var datum=this.getSizeAndPositionOfCell(start);offset=datum.offset+datum.size;var stop=start;while(offset<maxOffset&&stop<this._cellCount-1){stop++;offset+=this.getSizeAndPositionOfCell(stop).size}return{start:start,stop:stop}}},{key:"resetCell",value:function resetCell(index){this._lastMeasuredIndex=index-1}},{key:"_binarySearch",value:function _binarySearch(_ref5){var high=_ref5.high;var low=_ref5.low;var offset=_ref5.offset;var middle=void 0;var currentOffset=void 0;while(low<=high){middle=low+Math.floor((high-low)/2);currentOffset=this.getSizeAndPositionOfCell(middle).offset;if(currentOffset===offset){return middle}else if(currentOffset<offset){low=middle+1}else if(currentOffset>offset){high=middle-1}}if(low>0){return low-1}}},{key:"_exponentialSearch",value:function _exponentialSearch(_ref6){var index=_ref6.index;var offset=_ref6.offset;var interval=1;while(index<this._cellCount&&this.getSizeAndPositionOfCell(index).offset<offset){index+=interval;interval*=2}return this._binarySearch({high:Math.min(index,this._cellCount-1),low:Math.floor(index/2),offset:offset})}},{key:"_findNearestCell",value:function _findNearestCell(offset){if(isNaN(offset)){throw Error("Invalid offset "+offset+" specified")}offset=Math.max(0,offset);var lastMeasuredCellSizeAndPosition=this.getSizeAndPositionOfLastMeasuredCell();var lastMeasuredIndex=Math.max(0,this._lastMeasuredIndex);if(lastMeasuredCellSizeAndPosition.offset>=offset){return this._binarySearch({high:lastMeasuredIndex,low:0,offset:offset})}else{return this._exponentialSearch({index:lastMeasuredIndex,offset:offset})}}}]);return CellSizeAndPositionManager}();exports.default=CellSizeAndPositionManager},1952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_MAX_SCROLL_SIZE=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _CellSizeAndPositionManager=__webpack_require__(1951);var _CellSizeAndPositionManager2=_interopRequireDefault(_CellSizeAndPositionManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var DEFAULT_MAX_SCROLL_SIZE=exports.DEFAULT_MAX_SCROLL_SIZE=1e7;var ScalingCellSizeAndPositionManager=function(){function ScalingCellSizeAndPositionManager(_ref){var _ref$maxScrollSize=_ref.maxScrollSize;var maxScrollSize=_ref$maxScrollSize===undefined?DEFAULT_MAX_SCROLL_SIZE:_ref$maxScrollSize;var params=_objectWithoutProperties(_ref,["maxScrollSize"]);_classCallCheck(this,ScalingCellSizeAndPositionManager);this._cellSizeAndPositionManager=new _CellSizeAndPositionManager2.default(params);this._maxScrollSize=maxScrollSize}_createClass(ScalingCellSizeAndPositionManager,[{key:"configure",value:function configure(params){this._cellSizeAndPositionManager.configure(params)}},{key:"getCellCount",value:function getCellCount(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(_ref2){var containerSize=_ref2.containerSize;var offset=_ref2.offset;var totalSize=this._cellSizeAndPositionManager.getTotalSize();var safeTotalSize=this.getTotalSize();var offsetPercentage=this._getOffsetPercentage({containerSize:containerSize,offset:offset,totalSize:safeTotalSize});return Math.round(offsetPercentage*(safeTotalSize-totalSize))}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(index){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function getTotalSize(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(_ref3){var _ref3$align=_ref3.align;var align=_ref3$align===undefined?"auto":_ref3$align;var containerSize=_ref3.containerSize;var currentOffset=_ref3.currentOffset;var targetIndex=_ref3.targetIndex;currentOffset=this._safeOffsetToOffset({containerSize:containerSize,offset:currentOffset});var offset=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:align,containerSize:containerSize,currentOffset:currentOffset,targetIndex:targetIndex});return this._offsetToSafeOffset({containerSize:containerSize,offset:offset})}},{key:"getVisibleCellRange",value:function getVisibleCellRange(_ref4){var containerSize=_ref4.containerSize;var offset=_ref4.offset;offset=this._safeOffsetToOffset({containerSize:containerSize,offset:offset});return this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:containerSize,offset:offset})}},{key:"resetCell",value:function resetCell(index){this._cellSizeAndPositionManager.resetCell(index)}},{key:"_getOffsetPercentage",value:function _getOffsetPercentage(_ref5){var containerSize=_ref5.containerSize;var offset=_ref5.offset;var totalSize=_ref5.totalSize;return totalSize<=containerSize?0:offset/(totalSize-containerSize)}},{key:"_offsetToSafeOffset",value:function _offsetToSafeOffset(_ref6){var containerSize=_ref6.containerSize;var offset=_ref6.offset;var totalSize=this._cellSizeAndPositionManager.getTotalSize();var safeTotalSize=this.getTotalSize();if(totalSize===safeTotalSize){return offset}else{var offsetPercentage=this._getOffsetPercentage({containerSize:containerSize,offset:offset,totalSize:totalSize});return Math.round(offsetPercentage*(safeTotalSize-containerSize))}}},{key:"_safeOffsetToOffset",value:function _safeOffsetToOffset(_ref7){var containerSize=_ref7.containerSize;var offset=_ref7.offset;var totalSize=this._cellSizeAndPositionManager.getTotalSize();var safeTotalSize=this.getTotalSize();if(totalSize===safeTotalSize){return offset}else{var offsetPercentage=this._getOffsetPercentage({containerSize:containerSize,offset:offset,totalSize:safeTotalSize});return Math.round(offsetPercentage*(totalSize-containerSize))}}}]);return ScalingCellSizeAndPositionManager}();exports.default=ScalingCellSizeAndPositionManager},1953:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=calculateSizeAndPositionDataAndUpdateScrollOffset;function calculateSizeAndPositionDataAndUpdateScrollOffset(_ref){var cellCount=_ref.cellCount;var cellSize=_ref.cellSize;var computeMetadataCallback=_ref.computeMetadataCallback;var computeMetadataCallbackProps=_ref.computeMetadataCallbackProps;var nextCellsCount=_ref.nextCellsCount;var nextCellSize=_ref.nextCellSize;var nextScrollToIndex=_ref.nextScrollToIndex;var scrollToIndex=_ref.scrollToIndex;var updateScrollOffsetForScrollToIndex=_ref.updateScrollOffsetForScrollToIndex;if(cellCount!==nextCellsCount||(typeof cellSize==="number"||typeof nextCellSize==="number")&&cellSize!==nextCellSize){computeMetadataCallback(computeMetadataCallbackProps);if(scrollToIndex>=0&&scrollToIndex===nextScrollToIndex){updateScrollOffsetForScrollToIndex()}}}},1954:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=getOverscanIndices;function getOverscanIndices(_ref){var cellCount=_ref.cellCount;var overscanCellsCount=_ref.overscanCellsCount;var startIndex=_ref.startIndex;var stopIndex=_ref.stopIndex;return{overscanStartIndex:Math.max(0,startIndex-overscanCellsCount),overscanStopIndex:Math.min(cellCount-1,stopIndex+overscanCellsCount)}}},1955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=updateScrollIndexHelper;var _getUpdatedOffsetForIndex=__webpack_require__(1958);var _getUpdatedOffsetForIndex2=_interopRequireDefault(_getUpdatedOffsetForIndex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function updateScrollIndexHelper(_ref){var cellSize=_ref.cellSize;var cellSizeAndPositionManager=_ref.cellSizeAndPositionManager;var previousCellsCount=_ref.previousCellsCount;var previousCellSize=_ref.previousCellSize;var previousScrollToAlignment=_ref.previousScrollToAlignment;var previousScrollToIndex=_ref.previousScrollToIndex;var previousSize=_ref.previousSize;var scrollOffset=_ref.scrollOffset;var scrollToAlignment=_ref.scrollToAlignment;var scrollToIndex=_ref.scrollToIndex;var size=_ref.size;var updateScrollIndexCallback=_ref.updateScrollIndexCallback;var cellCount=cellSizeAndPositionManager.getCellCount();var hasScrollToIndex=scrollToIndex>=0&&scrollToIndex<cellCount;var sizeHasChanged=size!==previousSize||!previousCellSize||typeof cellSize==="number"&&cellSize!==previousCellSize;if(hasScrollToIndex&&(sizeHasChanged||scrollToAlignment!==previousScrollToAlignment||scrollToIndex!==previousScrollToIndex)){updateScrollIndexCallback(scrollToIndex)}else if(!hasScrollToIndex&&cellCount>0&&(size<previousSize||cellCount<previousCellsCount)){scrollToIndex=cellCount-1;var cellMetadatum=cellSizeAndPositionManager.getSizeAndPositionOfCell(scrollToIndex);var calculatedScrollOffset=(0,_getUpdatedOffsetForIndex2.default)({cellOffset:cellMetadatum.offset,cellSize:cellMetadatum.size,containerSize:size,currentOffset:scrollOffset});if(calculatedScrollOffset<scrollOffset){updateScrollIndexCallback(cellCount-1)}}}},1956:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Grid=__webpack_require__(1950);var _Grid2=_interopRequireDefault(_Grid);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(1744);var _classnames2=_interopRequireDefault(_classnames);var _reactAddonsShallowCompare=__webpack_require__(738);var _reactAddonsShallowCompare2=_interopRequireDefault(_reactAddonsShallowCompare);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VirtualScroll=function(_Component){_inherits(VirtualScroll,_Component);function VirtualScroll(props,context){_classCallCheck(this,VirtualScroll);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(VirtualScroll).call(this,props,context));_this._cellRenderer=_this._cellRenderer.bind(_this);_this._onScroll=_this._onScroll.bind(_this);_this._onSectionRendered=_this._onSectionRendered.bind(_this);_this._wrapIndexGetter=_this._wrapIndexGetter.bind(_this);return _this}_createClass(VirtualScroll,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.refs.Grid.forceUpdate()}},{key:"measureAllRows",value:function measureAllRows(){this.refs.Grid.measureAllCells()}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){this.refs.Grid.recomputeGridSize();this.forceUpdateGrid()}},{key:"render",value:function render(){var _props=this.props;var className=_props.className;var estimatedRowSize=_props.estimatedRowSize;var height=_props.height;var noRowsRenderer=_props.noRowsRenderer;var rowHeight=_props.rowHeight;var overscanRowCount=_props.overscanRowCount;var autoHeight=_props.autoHeight;var rowClassName=_props.rowClassName;var rowCount=_props.rowCount;var rowStyle=_props.rowStyle;var scrollToAlignment=_props.scrollToAlignment;var scrollToIndex=_props.scrollToIndex;var scrollTop=_props.scrollTop;var style=_props.style;var tabIndex=_props.tabIndex;var width=_props.width;var classNames=(0,_classnames2.default)("VirtualScroll",className);var cellClassName=this._wrapIndexGetter(rowClassName);var cellStyle=this._wrapIndexGetter(rowStyle);return _react2.default.createElement(_Grid2.default,{ref:"Grid","aria-label":this.props["aria-label"],className:classNames,cellRenderer:this._cellRenderer,cellClassName:cellClassName,cellStyle:cellStyle,columnWidth:width,columnCount:1,estimatedRowSize:estimatedRowSize,height:height,noContentRenderer:noRowsRenderer,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,overscanRowCount:overscanRowCount,autoHeight:autoHeight,rowHeight:rowHeight,rowCount:rowCount,scrollToAlignment:scrollToAlignment,scrollToRow:scrollToIndex,scrollTop:scrollTop,style:style,tabIndex:tabIndex,width:width})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return(0,_reactAddonsShallowCompare2.default)(this,nextProps,nextState)}},{key:"_cellRenderer",value:function _cellRenderer(_ref){var columnIndex=_ref.columnIndex;var isScrolling=_ref.isScrolling;var rowIndex=_ref.rowIndex;var rowRenderer=this.props.rowRenderer;return rowRenderer({index:rowIndex,isScrolling:isScrolling})}},{key:"_onScroll",value:function _onScroll(_ref2){var clientHeight=_ref2.clientHeight;var scrollHeight=_ref2.scrollHeight;var scrollTop=_ref2.scrollTop;var onScroll=this.props.onScroll;onScroll({clientHeight:clientHeight,scrollHeight:scrollHeight,scrollTop:scrollTop})}},{key:"_onSectionRendered",value:function _onSectionRendered(_ref3){var rowOverscanStartIndex=_ref3.rowOverscanStartIndex;var rowOverscanStopIndex=_ref3.rowOverscanStopIndex;var rowStartIndex=_ref3.rowStartIndex;var rowStopIndex=_ref3.rowStopIndex;var onRowsRendered=this.props.onRowsRendered;onRowsRendered({overscanStartIndex:rowOverscanStartIndex,overscanStopIndex:rowOverscanStopIndex,startIndex:rowStartIndex,stopIndex:rowStopIndex})}},{key:"_wrapIndexGetter",value:function _wrapIndexGetter(value){return value instanceof Function?function(_ref4){var rowIndex=_ref4.rowIndex;return value({index:rowIndex})}:function(){return value}}}]);return VirtualScroll}(_react.Component);VirtualScroll.propTypes={"aria-label":_react.PropTypes.string,autoHeight:_react.PropTypes.bool,className:_react.PropTypes.string,estimatedRowSize:_react.PropTypes.number.isRequired,height:_react.PropTypes.number.isRequired,noRowsRenderer:_react.PropTypes.func.isRequired,onRowsRendered:_react.PropTypes.func.isRequired,overscanRowCount:_react.PropTypes.number.isRequired,onScroll:_react.PropTypes.func.isRequired,rowHeight:_react.PropTypes.oneOfType([_react.PropTypes.number,_react.PropTypes.func]).isRequired,rowRenderer:_react.PropTypes.func.isRequired,rowClassName:_react.PropTypes.oneOfType([_react.PropTypes.string,_react.PropTypes.func]),rowCount:_react.PropTypes.number.isRequired,rowStyle:_react.PropTypes.oneOfType([_react.PropTypes.object,_react.PropTypes.func]),scrollToAlignment:_react.PropTypes.oneOf(["auto","end","start","center"]).isRequired,scrollToIndex:_react.PropTypes.number,scrollTop:_react.PropTypes.number,style:_react.PropTypes.object,tabIndex:_react.PropTypes.number,width:_react.PropTypes.number.isRequired};VirtualScroll.defaultProps={estimatedRowSize:30,noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){return null},onScroll:function onScroll(){return null},overscanRowCount:10,scrollToAlignment:"auto",style:{}};exports.default=VirtualScroll},1957:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=createCallbackMemoizer;function createCallbackMemoizer(){var requireAllKeys=arguments.length<=0||arguments[0]===undefined?true:arguments[0];var cachedIndices={};return function(_ref){var callback=_ref.callback;var indices=_ref.indices;var keys=Object.keys(indices);var allInitialized=!requireAllKeys||keys.every(function(key){var value=indices[key];return Array.isArray(value)?value.length>0:value>=0});var indexChanged=keys.length!==Object.keys(cachedIndices).length||keys.some(function(key){var cachedValue=cachedIndices[key];var value=indices[key];return Array.isArray(value)?cachedValue.join(",")!==value.join(","):cachedValue!==value});cachedIndices=indices;if(allInitialized&&indexChanged){callback(indices)}}}},1958:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=getUpdatedOffsetForIndex;function getUpdatedOffsetForIndex(_ref){var _ref$align=_ref.align;var align=_ref$align===undefined?"auto":_ref$align;var cellOffset=_ref.cellOffset;var cellSize=_ref.cellSize;var containerSize=_ref.containerSize;var currentOffset=_ref.currentOffset;var maxOffset=cellOffset;var minOffset=maxOffset-containerSize+cellSize;switch(align){case"start":return maxOffset;case"end":return minOffset;case"center":return maxOffset-(containerSize+cellSize)/2;default:return Math.max(minOffset,Math.min(maxOffset,currentOffset))}}},2214:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactAddonsShallowCompare=__webpack_require__(738);var _reactAddonsShallowCompare2=_interopRequireDefault(_reactAddonsShallowCompare);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AutoSizer=function(_Component){_inherits(AutoSizer,_Component);function AutoSizer(props){_classCallCheck(this,AutoSizer);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(AutoSizer).call(this,props));_this.state={height:0,width:0};_this._onResize=_this._onResize.bind(_this);_this._onScroll=_this._onScroll.bind(_this);_this._setRef=_this._setRef.bind(_this);return _this}_createClass(AutoSizer,[{key:"componentDidMount",value:function componentDidMount(){this._detectElementResize=__webpack_require__(2216);this._detectElementResize.addResizeListener(this._parentNode,this._onResize);this._onResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this._detectElementResize){this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}}},{key:"render",value:function render(){var _props=this.props;var children=_props.children;var disableHeight=_props.disableHeight;var disableWidth=_props.disableWidth;
var _state=this.state;var height=_state.height;var width=_state.width;var outerStyle={overflow:"visible"};if(!disableHeight){outerStyle.height=0}if(!disableWidth){outerStyle.width=0}return _react2.default.createElement("div",{ref:this._setRef,onScroll:this._onScroll,style:outerStyle},children({height:height,width:width}))}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return(0,_reactAddonsShallowCompare2.default)(this,nextProps,nextState)}},{key:"_onResize",value:function _onResize(){var onResize=this.props.onResize;var boundingRect=this._parentNode.getBoundingClientRect();var height=boundingRect.height||0;var width=boundingRect.width||0;var style=getComputedStyle(this._parentNode);var paddingLeft=parseInt(style.paddingLeft,10)||0;var paddingRight=parseInt(style.paddingRight,10)||0;var paddingTop=parseInt(style.paddingTop,10)||0;var paddingBottom=parseInt(style.paddingBottom,10)||0;this.setState({height:height-paddingTop-paddingBottom,width:width-paddingLeft-paddingRight});onResize({height:height,width:width})}},{key:"_onScroll",value:function _onScroll(event){event.stopPropagation()}},{key:"_setRef",value:function _setRef(autoSizer){this._parentNode=autoSizer&&autoSizer.parentNode}}]);return AutoSizer}(_react.Component);AutoSizer.propTypes={children:_react.PropTypes.func.isRequired,disableHeight:_react.PropTypes.bool,disableWidth:_react.PropTypes.bool,onResize:_react.PropTypes.func.isRequired};AutoSizer.defaultProps={onResize:function onResize(){}};exports.default=AutoSizer},2215:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoSizer=exports.default=undefined;var _AutoSizer2=__webpack_require__(2214);var _AutoSizer3=_interopRequireDefault(_AutoSizer2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_AutoSizer3.default;exports.AutoSizer=_AutoSizer3.default},2216:function(module,exports){"use strict";var _window;if(typeof window!=="undefined"){_window=window}else if(typeof self!=="undefined"){_window=self}else{_window=undefined}var attachEvent=typeof document!=="undefined"&&document.attachEvent;var stylesCreated=false;if(!attachEvent){var requestFrame=function(){var raf=_window.requestAnimationFrame||_window.mozRequestAnimationFrame||_window.webkitRequestAnimationFrame||function(fn){return _window.setTimeout(fn,20)};return function(fn){return raf(fn)}}();var cancelFrame=function(){var cancel=_window.cancelAnimationFrame||_window.mozCancelAnimationFrame||_window.webkitCancelAnimationFrame||_window.clearTimeout;return function(id){return cancel(id)}}();var resetTriggers=function resetTriggers(element){var triggers=element.__resizeTriggers__,expand=triggers.firstElementChild,contract=triggers.lastElementChild,expandChild=expand.firstElementChild;contract.scrollLeft=contract.scrollWidth;contract.scrollTop=contract.scrollHeight;expandChild.style.width=expand.offsetWidth+1+"px";expandChild.style.height=expand.offsetHeight+1+"px";expand.scrollLeft=expand.scrollWidth;expand.scrollTop=expand.scrollHeight};var checkTriggers=function checkTriggers(element){return element.offsetWidth!=element.__resizeLast__.width||element.offsetHeight!=element.__resizeLast__.height};var scrollListener=function scrollListener(e){var element=this;resetTriggers(this);if(this.__resizeRAF__)cancelFrame(this.__resizeRAF__);this.__resizeRAF__=requestFrame(function(){if(checkTriggers(element)){element.__resizeLast__.width=element.offsetWidth;element.__resizeLast__.height=element.offsetHeight;element.__resizeListeners__.forEach(function(fn){fn.call(element,e)})}})};var animation=false,animationstring="animation",keyframeprefix="",animationstartevent="animationstart",domPrefixes="Webkit Moz O ms".split(" "),startEvents="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),pfx="";{var elm=document.createElement("fakeelement");if(elm.style.animationName!==undefined){animation=true}if(animation===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+"AnimationName"]!==undefined){pfx=domPrefixes[i];animationstring=pfx+"Animation";keyframeprefix="-"+pfx.toLowerCase()+"-";animationstartevent=startEvents[i];animation=true;break}}}}var animationName="resizeanim";var animationKeyframes="@"+keyframeprefix+"keyframes "+animationName+" { from { opacity: 0; } to { opacity: 0; } } ";var animationStyle=keyframeprefix+"animation: 1ms "+animationName+"; "}var createStyles=function createStyles(){if(!stylesCreated){var css=(animationKeyframes?animationKeyframes:"")+".resize-triggers { "+(animationStyle?animationStyle:"")+"visibility: hidden; opacity: 0; } "+'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(document.createTextNode(css))}head.appendChild(style);stylesCreated=true}};var addResizeListener=function addResizeListener(element,fn){if(attachEvent)element.attachEvent("onresize",fn);else{if(!element.__resizeTriggers__){if(getComputedStyle(element).position=="static")element.style.position="relative";createStyles();element.__resizeLast__={};element.__resizeListeners__=[];(element.__resizeTriggers__=document.createElement("div")).className="resize-triggers";element.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div>'+'<div class="contract-trigger"></div>';element.appendChild(element.__resizeTriggers__);resetTriggers(element);element.addEventListener("scroll",scrollListener,true);animationstartevent&&element.__resizeTriggers__.addEventListener(animationstartevent,function(e){if(e.animationName==animationName)resetTriggers(element)})}element.__resizeListeners__.push(fn)}};var removeResizeListener=function removeResizeListener(element,fn){if(attachEvent)element.detachEvent("onresize",fn);else{element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1);if(!element.__resizeListeners__.length){element.removeEventListener("scroll",scrollListener,true);element.__resizeTriggers__=!element.removeChild(element.__resizeTriggers__)}}};module.exports={addResizeListener:addResizeListener,removeResizeListener:removeResizeListener}},2448:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(10);var _classnames2=_interopRequireDefault(_classnames);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _selectors=__webpack_require__(277);var _selectors2=__webpack_require__(112);var _card=__webpack_require__(89);var _card2=_interopRequireDefault(_card);var _postRelativeTime=__webpack_require__(2449);var _postRelativeTime2=_interopRequireDefault(_postRelativeTime);var _postStatus=__webpack_require__(2450);var _postStatus2=_interopRequireDefault(_postStatus);var _postThumbnail=__webpack_require__(2884);var _postThumbnail2=_interopRequireDefault(_postThumbnail);var _postActionsEllipsisMenu=__webpack_require__(2878);var _postActionsEllipsisMenu2=_interopRequireDefault(_postActionsEllipsisMenu);var _postTypePostAuthor=__webpack_require__(2885);var _postTypePostAuthor2=_interopRequireDefault(_postTypePostAuthor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostItem(_ref){var translate=_ref.translate;var globalId=_ref.globalId;var post=_ref.post;var editUrl=_ref.editUrl;var className=_ref.className;var title=post?post.title:null;var classes=(0,_classnames2.default)("post-item",className,{"is-untitled":!title,"is-placeholder":!globalId});return _react2.default.createElement(_card2.default,{compact:true,className:classes},_react2.default.createElement("div",{className:"post-item__detail"},_react2.default.createElement("div",{className:"post-item__title-meta"},_react2.default.createElement("h1",{className:"post-item__title"},_react2.default.createElement("a",{href:editUrl,className:"post-item__title-link"},title||translate("Untitled"))),_react2.default.createElement("div",{className:"post-item__meta"},_react2.default.createElement(_postRelativeTime2.default,{globalId:globalId}),_react2.default.createElement(_postStatus2.default,{globalId:globalId}),_react2.default.createElement(_postTypePostAuthor2.default,{globalId:globalId})))),_react2.default.createElement(_postThumbnail2.default,{globalId:globalId}),_react2.default.createElement(_postActionsEllipsisMenu2.default,{globalId:globalId}))}PostItem.propTypes={translate:_react.PropTypes.func,globalId:_react.PropTypes.string,post:_react.PropTypes.object,className:_react.PropTypes.string};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors2.getNormalizedPost)(state,ownProps.globalId);if(!post){return{}}return{post:post,editUrl:(0,_selectors.getEditorPath)(state,post.site_ID,post.ID)}})((0,_i18nCalypso.localize)(PostItem));module.exports=exports["default"]},2449:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _includes2=__webpack_require__(30);var _includes3=_interopRequireDefault(_includes2);exports.PostRelativeTime=PostRelativeTime;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(10);var _classnames2=_interopRequireDefault(_classnames);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _gridicon=__webpack_require__(26);var _gridicon2=_interopRequireDefault(_gridicon);var _selectors=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostRelativeTime(_ref){var moment=_ref.moment;var post=_ref.post;var time=void 0;if(post){var status=post.status;var modified=post.modified;var date=post.date;time=(0,_includes3.default)(["draft","pending"],status)?modified:date}var classes=(0,_classnames2.default)("post-relative-time",{"is-placeholder":!post});return _react2.default.createElement("span",{className:classes},_react2.default.createElement(_gridicon2.default,{icon:"time",size:18,className:"post-relative-time__icon"}),_react2.default.createElement("span",{className:"post-relative-time__text"},moment(time).fromNow()))}PostRelativeTime.propTypes={globalId:_react.PropTypes.string,moment:_react.PropTypes.func,post:_react.PropTypes.object};exports.default=(0,_reactRedux.connect)(function(state,_ref2){var globalId=_ref2.globalId;return{post:(0,_selectors.getNormalizedPost)(state,globalId)}})((0,_i18nCalypso.localize)(PostRelativeTime))},2450:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PostStatus=PostStatus;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _classnames=__webpack_require__(10);var _classnames2=_interopRequireDefault(_classnames);var _i18nCalypso=__webpack_require__(11);var _gridicon=__webpack_require__(26);var _gridicon2=_interopRequireDefault(_gridicon);var _selectors=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostStatus(_ref){var translate=_ref.translate;var post=_ref.post;if(!post){return null}var sticky=post.sticky;var status=post.status;var text=void 0,classModifier=void 0,icon=void 0;if(sticky){text=translate("Sticky");classModifier="is-sticky";icon="bookmark-outline"}else if("pending"===status){text=translate("Pending Review");classModifier="is-pending";icon="aside"}else if("future"===status){text=translate("Scheduled");classModifier="is-scheduled";icon="calendar"}else if("trash"===status){text=translate("Trashed");classModifier="is-trash";icon="trash"}if(!text){return null}var classes=(0,_classnames2.default)("post-status",classModifier);return _react2.default.createElement("span",{className:classes},_react2.default.createElement(_gridicon2.default,{icon:icon,size:18,className:"post-status__icon"}),_react2.default.createElement("span",{className:"post-status__text"},text))}PostStatus.displayName="PostStatus";PostStatus.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func,post:_react.PropTypes.object};exports.default=(0,_reactRedux.connect)(function(state,_ref2){var globalId=_ref2.globalId;return{post:(0,_selectors.getNormalizedPost)(state,globalId)}})((0,_i18nCalypso.localize)(PostStatus))},2513:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(10);var _classnames2=_interopRequireDefault(_classnames);var _i18nCalypso=__webpack_require__(11);var _gridicon=__webpack_require__(26);var _gridicon2=_interopRequireDefault(_gridicon);var _button=__webpack_require__(69);var _button2=_interopRequireDefault(_button);var _menu=__webpack_require__(1673);var _menu2=_interopRequireDefault(_menu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EllipsisMenu=function(_Component){(0,_inherits3.default)(EllipsisMenu,_Component);function EllipsisMenu(){(0,_classCallCheck3.default)(this,EllipsisMenu);var _this=(0,_possibleConstructorReturn3.default)(this,(EllipsisMenu.__proto__||(0,_getPrototypeOf2.default)(EllipsisMenu)).apply(this,arguments));_this.state={isMenuVisible:false,popoverContext:null};_this.showMenu=_this.toggleMenu.bind(_this,true);_this.hideMenu=_this.toggleMenu.bind(_this,false);_this.setPopoverContext=_this.setPopoverContext.bind(_this);return _this}(0,_createClass3.default)(EllipsisMenu,[{key:"setPopoverContext",value:function setPopoverContext(popoverContext){if(popoverContext){this.setState({popoverContext:popoverContext})}}},{key:"toggleMenu",value:function toggleMenu(isMenuVisible){if(!this.props.disabled){this.setState({isMenuVisible:isMenuVisible})}}},{key:"render",value:function render(){var _props=this.props;var toggleTitle=_props.toggleTitle;var translate=_props.translate;var position=_props.position;var children=_props.children;var disabled=_props.disabled;var _state=this.state;var isMenuVisible=_state.isMenuVisible;var popoverContext=_state.popoverContext;var classes=(0,_classnames2.default)("ellipsis-menu",{"is-menu-visible":isMenuVisible,"is-disabled":disabled});return _react2.default.createElement("span",{className:classes},_react2.default.createElement(_button2.default,{ref:this.setPopoverContext,onClick:isMenuVisible?this.hideMenu:this.showMenu,title:toggleTitle||translate("Toggle menu"),borderless:true,disabled:disabled,className:"ellipsis-menu__toggle"},_react2.default.createElement(_gridicon2.default,{icon:"ellipsis",className:"ellipsis-menu__toggle-icon"})),_react2.default.createElement(_menu2.default,{isVisible:isMenuVisible,onClose:this.hideMenu,position:position,context:popoverContext,className:"ellipsis-menu__menu popover"},children))}}]);return EllipsisMenu}(_react.Component);EllipsisMenu.propTypes={translate:_react.PropTypes.func,toggleTitle:_react.PropTypes.string,position:_react.PropTypes.string,children:_react.PropTypes.node,disabled:_react.PropTypes.bool};exports.default=(0,_i18nCalypso.localize)(EllipsisMenu);module.exports=exports["default"]},2524:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hr=_react2.default.createElement("hr",{className:"popover__menu-separator"});exports.default=function(){return hr};module.exports=exports["default"]},2874:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _reduce=__webpack_require__(117);var _reduce2=_interopRequireDefault(_reduce);var _find=__webpack_require__(27);var _find2=_interopRequireDefault(_find);var _includes=__webpack_require__(30);var _includes2=_interopRequireDefault(_includes);var _selectors=__webpack_require__(47);var _selectors2=__webpack_require__(79);var _selectors3=__webpack_require__(1794);var _path=__webpack_require__(222);var _urlSearch=__webpack_require__(1693);var _urlSearch2=_interopRequireDefault(_urlSearch);var _queryPostCounts=__webpack_require__(1880);var _queryPostCounts2=_interopRequireDefault(_queryPostCounts);var _sectionNav=__webpack_require__(1664);var _sectionNav2=_interopRequireDefault(_sectionNav);var _tabs=__webpack_require__(1661);var _tabs2=_interopRequireDefault(_tabs);var _item=__webpack_require__(1660);var _item2=_interopRequireDefault(_item);var _search=__webpack_require__(717);var _search2=_interopRequireDefault(_search);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PostTypeFilter=_react2.default.createClass({displayName:"PostTypeFilter",mixins:[_urlSearch2.default],propTypes:{siteId:_react.PropTypes.number,query:_react.PropTypes.object,jetpack:_react.PropTypes.bool,siteSlug:_react.PropTypes.string,counts:_react.PropTypes.object},getDefaultProps:function getDefaultProps(){return{query:{}}},getNavItems:function getNavItems(){var _this=this;var _props=this.props;var query=_props.query;var siteSlug=_props.siteSlug;var jetpack=_props.jetpack;var counts=_props.counts;return(0,_reduce2.default)(counts,function(memo,count,status){if(!jetpack&&!count&&!(0,_includes2.default)(["publish","draft"],status)){return memo}var label=void 0,pathStatus=void 0;switch(status){case"publish":label=_this.translate("Published",{context:"Filter label for posts list"});break;case"draft":label=_this.translate("Drafts",{context:"Filter label for posts list"});pathStatus="drafts";break;case"future":label=_this.translate("Scheduled",{context:"Filter label for posts list"});pathStatus="scheduled";break;case"trash":label=_this.translate("Trashed",{context:"Filter label for posts list"});pathStatus="trashed";break}return memo.concat({count:jetpack?null:count,key:"filter-"+status,path:["/types",query.type,pathStatus,siteSlug].filter(Boolean).join("/"),selected:(0,_path.mapPostStatus)(pathStatus)===query.status,children:label})},[])},render:function render(){var _props2=this.props;var siteId=_props2.siteId;var query=_props2.query;var jetpack=_props2.jetpack;var navItems=this.getNavItems();var selectedItem=(0,_find2.default)(navItems,"selected")||{};return _react2.default.createElement("div",null,query&&siteId&&false===jetpack&&_react2.default.createElement(_queryPostCounts2.default,{siteId:siteId,type:query.type}),_react2.default.createElement(_sectionNav2.default,{selectedText:selectedItem.children,selectedCount:selectedItem.count},query&&[_react2.default.createElement(_tabs2.default,{key:"tabs",label:this.translate("Status",{context:"Filter group label for tabs"}),selectedText:selectedItem.children,selectedCount:selectedItem.count},navItems.map(function(props){return _react2.default.createElement(_item2.default,props)})),_react2.default.createElement(_search2.default,{key:"search",pinned:true,fitsContainer:true,onSearch:this.doSearch,placeholder:this.translate("Search"),delaySearch:true})]))}});exports.default=(0,_reactRedux.connect)(function(state,ownProps){var siteId=(0,_selectors.getSelectedSiteId)(state);var props={siteId:siteId,jetpack:(0,_selectors2.isJetpackSite)(state,siteId),siteSlug:(0,_selectors2.getSiteSlug)(state,siteId)};if(!ownProps.query){return props}return(0,_assign2.default)(props,{counts:(0,_selectors3.getNormalizedPostCounts)(state,siteId,ownProps.query.type)})})(PostTypeFilter);module.exports=exports["default"]},2875:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _selectors=__webpack_require__(390);var _selectors2=__webpack_require__(47);var _selectors3=__webpack_require__(277);var _queryPostTypes=__webpack_require__(726);var _queryPostTypes2=_interopRequireDefault(_queryPostTypes);var _emptyContent=__webpack_require__(207);var _emptyContent2=_interopRequireDefault(_emptyContent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostTypeListEmptyContent(_ref){var siteId=_ref.siteId;var translate=_ref.translate;var status=_ref.status;var typeObject=_ref.typeObject;var editPath=_ref.editPath;var title=void 0,action=void 0;if("draft"===status){title=translate("You don't have any drafts.")}else if(typeObject){title=typeObject.labels.not_found}if(typeObject){action=typeObject.labels.add_new_item}return _react2.default.createElement("div",null,siteId&&_react2.default.createElement(_queryPostTypes2.default,{siteId:siteId}),_react2.default.createElement(_emptyContent2.default,{title:title,action:action,actionURL:editPath,illustration:"/calypso/images/pages/illustration-pages.svg",illustrationWidth:150}))}PostTypeListEmptyContent.propTypes={siteId:_react.PropTypes.number,translate:_react.PropTypes.func,type:_react.PropTypes.string,status:_react.PropTypes.string,typeObject:_react.PropTypes.object,editPath:_react.PropTypes.string};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var siteId=(0,_selectors2.getSelectedSiteId)(state);return{siteId:siteId,typeObject:(0,_selectors.getPostType)(state,siteId,ownProps.type),editPath:(0,_selectors3.getEditorPath)(state,siteId,null,ownProps.type)}})((0,_i18nCalypso.localize)(PostTypeListEmptyContent));module.exports=exports["default"]},2876:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stringify=__webpack_require__(40);var _stringify2=_interopRequireDefault(_stringify);var _extends2=__webpack_require__(16);var _extends3=_interopRequireDefault(_extends2);var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(10);var _classnames2=_interopRequireDefault(_classnames);var _reactRedux=__webpack_require__(15);var _isEqual=__webpack_require__(98);var _isEqual2=_interopRequireDefault(_isEqual);var _includes=__webpack_require__(30);var _includes2=_interopRequireDefault(_includes);var _difference=__webpack_require__(118);var _difference2=_interopRequireDefault(_difference);var _range=__webpack_require__(735);var _range2=_interopRequireDefault(_range);var _size=__webpack_require__(769);var _size2=_interopRequireDefault(_size);var _AutoSizer=__webpack_require__(2215);var _AutoSizer2=_interopRequireDefault(_AutoSizer);var _WindowScroller=__webpack_require__(3552);var _WindowScroller2=_interopRequireDefault(_WindowScroller);var _VirtualScroll=__webpack_require__(1871);var _VirtualScroll2=_interopRequireDefault(_VirtualScroll);var _queryPosts=__webpack_require__(762);var _queryPosts2=_interopRequireDefault(_queryPosts);var _selectors=__webpack_require__(47);var _selectors2=__webpack_require__(112);var _postItem=__webpack_require__(2448);var _postItem2=_interopRequireDefault(_postItem);var _emptyContent=__webpack_require__(2875);var _emptyContent2=_interopRequireDefault(_emptyContent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var POST_ROW_HEIGHT=86;var DEFAULT_POSTS_PER_PAGE=20;var LOAD_OFFSET=10;var PostTypeList=function(_Component){(0,_inherits3.default)(PostTypeList,_Component);function PostTypeList(){(0,_classCallCheck3.default)(this,PostTypeList);var _this=(0,_possibleConstructorReturn3.default)(this,(PostTypeList.__proto__||(0,_getPrototypeOf2.default)(PostTypeList)).apply(this,arguments));_this.renderPostRow=_this.renderPostRow.bind(_this);_this.renderPlaceholder=_this.renderPlaceholder.bind(_this);_this.setRequestedPages=_this.setRequestedPages.bind(_this);_this.state={requestedPages:_this.getInitialRequestedPages(_this.props)};return _this}(0,_createClass3.default)(PostTypeList,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(!(0,_isEqual2.default)(this.props.query,nextProps.query)){this.setState({requestedPages:this.getInitialRequestedPages(nextProps)})}}},{key:"getInitialRequestedPages",value:function getInitialRequestedPages(props){if(0===(0,_size2.default)(props.posts)){return[1]}return[]}},{key:"getPageForIndex",value:function getPageForIndex(index){var _props=this.props;var query=_props.query;var lastPage=_props.lastPage;var perPage=query.number||DEFAULT_POSTS_PER_PAGE;var page=Math.ceil(index/perPage);return Math.max(Math.min(page,lastPage||Infinity),1)}},{key:"setRequestedPages",value:function setRequestedPages(_ref){var startIndex=_ref.startIndex;var stopIndex=_ref.stopIndex;if(!this.props.query){return}var requestedPages=this.state.requestedPages;var pagesToRequest=(0,_difference2.default)((0,_range2.default)(this.getPageForIndex(startIndex-LOAD_OFFSET),this.getPageForIndex(stopIndex+LOAD_OFFSET)+1),requestedPages);if(!pagesToRequest.length){return}this.setState({requestedPages:requestedPages.concat(pagesToRequest)})}},{key:"isLastPage",value:function isLastPage(){var _props2=this.props;var lastPage=_props2.lastPage;var requestingLastPage=_props2.requestingLastPage;var requestedPages=this.state.requestedPages;return(0,_includes2.default)(requestedPages,lastPage)&&!requestingLastPage}},{key:"renderPlaceholder",value:function renderPlaceholder(){return _react2.default.createElement(_postItem2.default,{key:"placeholder"})}},{key:"renderPostRow",value:function renderPostRow(_ref2){var index=_ref2.index;var globalId=this.props.posts[index].global_ID;return _react2.default.createElement(_postItem2.default,{key:globalId,globalId:globalId})}},{key:"render",value:function render(){var _this2=this;var _props3=this.props;var query=_props3.query;var siteId=_props3.siteId;var posts=_props3.posts;var isEmpty=query&&posts&&!posts.length&&this.isLastPage();var classes=(0,_classnames2.default)("post-type-list",{"is-empty":isEmpty});return _react2.default.createElement("div",{className:classes},query&&this.state.requestedPages.map(function(page){return _react2.default.createElement(_queryPosts2.default,{key:"query-"+page,siteId:siteId,query:(0,_extends3.default)({},query,{page:page})})}),isEmpty&&_react2.default.createElement(_emptyContent2.default,{type:query.type,status:query.status}),!isEmpty&&_react2.default.createElement(_WindowScroller2.default,{key:(0,_stringify2.default)(query)},function(_ref3){var height=_ref3.height;var scrollTop=_ref3.scrollTop;return _react2.default.createElement(_AutoSizer2.default,{disableHeight:true},function(_ref4){var width=_ref4.width;return _react2.default.createElement(_VirtualScroll2.default,{autoHeight:true,scrollTop:scrollTop,height:height,width:width,onRowsRendered:_this2.setRequestedPages,rowRenderer:_this2.renderPostRow,rowHeight:POST_ROW_HEIGHT,rowCount:(0,_size2.default)(_this2.props.posts)})})}),!this.isLastPage()&&this.renderPlaceholder())}}]);return PostTypeList}(_react.Component);PostTypeList.propTypes={query:_react.PropTypes.object,siteId:_react.PropTypes.number,lastPage:_react.PropTypes.number,posts:_react.PropTypes.array,requestingLastPage:_react.PropTypes.bool};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var siteId=(0,_selectors.getSelectedSiteId)(state);var lastPage=(0,_selectors2.getSitePostsLastPageForQuery)(state,siteId,ownProps.query);return{siteId:siteId,lastPage:lastPage,posts:(0,_selectors2.getSitePostsForQueryIgnoringPage)(state,siteId,ownProps.query),requestingLastPage:(0,_selectors2.isRequestingSitePostsForQuery)(state,siteId,(0,_extends3.default)({},ownProps.query,{page:lastPage}))}})(PostTypeList);module.exports=exports["default"]},2877:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _get=__webpack_require__(24);var _get2=_interopRequireDefault(_get);var _menuItem=__webpack_require__(1652);var _menuItem2=_interopRequireDefault(_menuItem);var _queryPostTypes=__webpack_require__(726);var _queryPostTypes2=_interopRequireDefault(_queryPostTypes);var _analytics=__webpack_require__(20);var _selectors=__webpack_require__(112);var _selectors2=__webpack_require__(390);var _selectors3=__webpack_require__(90);var _selectors4=__webpack_require__(277);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostActionsEllipsisMenuEdit(_ref){var translate=_ref.translate;var siteId=_ref.siteId;var canEdit=_ref.canEdit;var status=_ref.status;var editUrl=_ref.editUrl;var isKnownType=_ref.isKnownType;if("trash"===status||!canEdit){return null}function bumpStat(){_analytics.mc.bumpStat("calypso_cpt_actions","edit")}return _react2.default.createElement(_menuItem2.default,{href:editUrl,onClick:bumpStat,icon:"pencil"},siteId&&!isKnownType&&_react2.default.createElement(_queryPostTypes2.default,{siteId:siteId}),translate("Edit",{context:"verb"}))}PostActionsEllipsisMenuEdit.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func.isRequired,siteId:_react.PropTypes.number,canEdit:_react.PropTypes.bool,status:_react.PropTypes.string,editUrl:_react.PropTypes.string,isKnownType:_react.PropTypes.bool};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getPost)(state,ownProps.globalId);if(!post){return{}}var type=(0,_selectors2.getPostType)(state,post.site_ID,post.type);var userId=(0,_selectors3.getCurrentUserId)(state);var isAuthor=(0,_get2.default)(post.author,"ID")===userId;var capability=isAuthor?"edit_posts":"edit_others_posts";var typeCapability=(0,_get2.default)(type,["capabilities",capability]);if((0,_selectors3.isValidCapability)(state,post.site_ID,typeCapability)){capability=typeCapability}return{siteId:post.site_ID,canEdit:(0,_selectors3.canCurrentUser)(state,post.site_ID,capability),status:post.status,editUrl:(0,_selectors4.getEditorPath)(state,post.site_ID,post.ID),isKnownType:!!type}})((0,_i18nCalypso.localize)(PostActionsEllipsisMenuEdit));module.exports=exports["default"]},2878:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true
});exports.default=PostActionsEllipsisMenu;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _ellipsisMenu=__webpack_require__(2513);var _ellipsisMenu2=_interopRequireDefault(_ellipsisMenu);var _menuSeparator=__webpack_require__(2524);var _menuSeparator2=_interopRequireDefault(_menuSeparator);var _edit=__webpack_require__(2877);var _edit2=_interopRequireDefault(_edit);var _stats=__webpack_require__(2881);var _stats2=_interopRequireDefault(_stats);var _publish=__webpack_require__(2879);var _publish2=_interopRequireDefault(_publish);var _trash=__webpack_require__(2882);var _trash2=_interopRequireDefault(_trash);var _view=__webpack_require__(2883);var _view2=_interopRequireDefault(_view);var _restore=__webpack_require__(2880);var _restore2=_interopRequireDefault(_restore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostActionsEllipsisMenu(_ref){var globalId=_ref.globalId;var includeDefaultActions=_ref.includeDefaultActions;var children=_ref.children;var actions=[];if(includeDefaultActions){actions.push(_react2.default.createElement(_edit2.default,{key:"edit"}),_react2.default.createElement(_view2.default,{key:"view"}),_react2.default.createElement(_stats2.default,{key:"stats"}),_react2.default.createElement(_publish2.default,{key:"publish"}),_react2.default.createElement(_restore2.default,{key:"restore"}),_react2.default.createElement(_trash2.default,{key:"trash"}))}children=_react.Children.toArray(children);if(children.length){if(actions.length){actions.push(_react2.default.createElement(_menuSeparator2.default,{key:"separator"}))}actions=actions.concat(children)}return _react2.default.createElement("div",{className:"post-actions-ellipsis-menu"},_react2.default.createElement(_ellipsisMenu2.default,{position:"bottom left",disabled:!globalId},actions.map(function(action){return(0,_react.cloneElement)(action,{globalId:globalId})})))}PostActionsEllipsisMenu.propTypes={globalId:_react.PropTypes.string,includeDefaultActions:_react.PropTypes.bool,children:_react.PropTypes.node};PostActionsEllipsisMenu.defaultProps={includeDefaultActions:true};module.exports=exports["default"]},2879:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _includes2=__webpack_require__(30);var _includes3=_interopRequireDefault(_includes2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _menuItem=__webpack_require__(1652);var _menuItem2=_interopRequireDefault(_menuItem);var _analytics=__webpack_require__(20);var _selectors=__webpack_require__(112);var _actions=__webpack_require__(285);var _selectors2=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PostActionsEllipsisMenuPublish=function(_Component){(0,_inherits3.default)(PostActionsEllipsisMenuPublish,_Component);function PostActionsEllipsisMenuPublish(){(0,_classCallCheck3.default)(this,PostActionsEllipsisMenuPublish);var _this=(0,_possibleConstructorReturn3.default)(this,(PostActionsEllipsisMenuPublish.__proto__||(0,_getPrototypeOf2.default)(PostActionsEllipsisMenuPublish)).apply(this,arguments));_this.publishPost=_this.publishPost.bind(_this);return _this}(0,_createClass3.default)(PostActionsEllipsisMenuPublish,[{key:"publishPost",value:function publishPost(){var _props=this.props;var siteId=_props.siteId;var postId=_props.postId;if(!siteId||!postId){return}_analytics.mc.bumpStat("calypso_cpt_actions","publish");this.props.savePost(siteId,postId,{status:"publish"})}},{key:"render",value:function render(){var _props2=this.props;var translate=_props2.translate;var status=_props2.status;var canPublish=_props2.canPublish;if(!canPublish||!(0,_includes3.default)(["pending","draft"],status)){return null}return _react2.default.createElement(_menuItem2.default,{onClick:this.publishPost,icon:"reader"},translate("Publish"))}}]);return PostActionsEllipsisMenuPublish}(_react.Component);PostActionsEllipsisMenuPublish.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func.isRequired,status:_react.PropTypes.string,siteId:_react.PropTypes.number,postId:_react.PropTypes.number,canPublish:_react.PropTypes.bool,savePost:_react.PropTypes.func};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getPost)(state,ownProps.globalId);if(!post){return{}}return{status:post.status,siteId:post.site_ID,postId:post.ID,canPublish:(0,_selectors2.canCurrentUser)(state,post.site_ID,"publish_posts")}},{savePost:_actions.savePost})((0,_i18nCalypso.localize)(PostActionsEllipsisMenuPublish));module.exports=exports["default"]},2880:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _menuItem=__webpack_require__(1652);var _menuItem2=_interopRequireDefault(_menuItem);var _analytics=__webpack_require__(20);var _selectors=__webpack_require__(112);var _actions=__webpack_require__(285);var _selectors2=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PostActionsEllipsisMenuRestore=function(_Component){(0,_inherits3.default)(PostActionsEllipsisMenuRestore,_Component);function PostActionsEllipsisMenuRestore(){(0,_classCallCheck3.default)(this,PostActionsEllipsisMenuRestore);var _this=(0,_possibleConstructorReturn3.default)(this,(PostActionsEllipsisMenuRestore.__proto__||(0,_getPrototypeOf2.default)(PostActionsEllipsisMenuRestore)).apply(this,arguments));_this.restorePost=_this.restorePost.bind(_this);return _this}(0,_createClass3.default)(PostActionsEllipsisMenuRestore,[{key:"restorePost",value:function restorePost(){var _props=this.props;var siteId=_props.siteId;var postId=_props.postId;if(!siteId||!postId){return}_analytics.mc.bumpStat("calypso_cpt_actions","restore");this.props.restorePost(siteId,postId)}},{key:"render",value:function render(){var _props2=this.props;var translate=_props2.translate;var canRestore=_props2.canRestore;var status=_props2.status;if("trash"!==status||!canRestore){return null}return _react2.default.createElement(_menuItem2.default,{onClick:this.restorePost,icon:"undo"},translate("Restore"))}}]);return PostActionsEllipsisMenuRestore}(_react.Component);PostActionsEllipsisMenuRestore.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func.isRequired,siteId:_react.PropTypes.number,postId:_react.PropTypes.number,canRestore:_react.PropTypes.bool,status:_react.PropTypes.string,restorePost:_react.PropTypes.func.isRequired};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getPost)(state,ownProps.globalId);if(!post){return{}}var userId=(0,_selectors2.getCurrentUserId)(state);var isAuthor=post.author&&post.author.ID===userId;return{siteId:post.site_ID,postId:post.ID,status:post.status,canRestore:(0,_selectors2.canCurrentUser)(state,post.site_ID,isAuthor?"delete_posts":"delete_others_posts")}},{restorePost:_actions.restorePost})((0,_i18nCalypso.localize)(PostActionsEllipsisMenuRestore));module.exports=exports["default"]},2881:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _menuItem=__webpack_require__(1652);var _menuItem2=_interopRequireDefault(_menuItem);var _analytics=__webpack_require__(20);var _selectors=__webpack_require__(79);var _selectors2=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function bumpStat(){_analytics.mc.bumpStat("calypso_cpt_actions","stats")}function PostActionsEllipsisMenuStats(_ref){var translate=_ref.translate;var siteSlug=_ref.siteSlug;var postId=_ref.postId;var status=_ref.status;var isStatsActive=_ref.isStatsActive;if(!isStatsActive||"publish"!==status){return null}return _react2.default.createElement(_menuItem2.default,{href:"/stats/post/"+postId+"/"+siteSlug,onClick:bumpStat,icon:"stats-alt"},translate("Stats"))}PostActionsEllipsisMenuStats.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func.isRequired,siteSlug:_react.PropTypes.string,postId:_react.PropTypes.number,status:_react.PropTypes.string,isStatsActive:_react.PropTypes.bool};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors2.getPost)(state,ownProps.globalId);if(!post){return{}}return{siteSlug:(0,_selectors.getSiteSlug)(state,post.site_ID),postId:post.ID,status:post.status,isStatsActive:false!==(0,_selectors.isJetpackModuleActive)(state,post.site_ID,"stats")}})((0,_i18nCalypso.localize)(PostActionsEllipsisMenuStats));module.exports=exports["default"]},2882:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _menuItem=__webpack_require__(1652);var _menuItem2=_interopRequireDefault(_menuItem);var _analytics=__webpack_require__(20);var _actions=__webpack_require__(285);var _selectors=__webpack_require__(112);var _selectors2=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PostActionsEllipsisMenuTrash=function(_Component){(0,_inherits3.default)(PostActionsEllipsisMenuTrash,_Component);function PostActionsEllipsisMenuTrash(){(0,_classCallCheck3.default)(this,PostActionsEllipsisMenuTrash);var _this=(0,_possibleConstructorReturn3.default)(this,(PostActionsEllipsisMenuTrash.__proto__||(0,_getPrototypeOf2.default)(PostActionsEllipsisMenuTrash)).apply(this,arguments));_this.trashPost=_this.trashPost.bind(_this);return _this}(0,_createClass3.default)(PostActionsEllipsisMenuTrash,[{key:"trashPost",value:function trashPost(){var _props=this.props;var translate=_props.translate;var siteId=_props.siteId;var postId=_props.postId;var status=_props.status;if(!postId){return}if("trash"!==status){_analytics.mc.bumpStat("calypso_cpt_actions","trash");this.props.trashPost(siteId,postId)}else if(confirm(translate("Are you sure you want to permanently delete this post?"))){_analytics.mc.bumpStat("calypso_cpt_actions","delete");this.props.deletePost(siteId,postId)}}},{key:"render",value:function render(){var _props2=this.props;var translate=_props2.translate;var status=_props2.status;var canDelete=_props2.canDelete;if(!canDelete){return null}return _react2.default.createElement(_menuItem2.default,{onClick:this.trashPost,icon:"trash"},"trash"===status?translate("Delete Permanently"):translate("Trash",{context:"verb"}))}}]);return PostActionsEllipsisMenuTrash}(_react.Component);PostActionsEllipsisMenuTrash.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func.isRequired,postId:_react.PropTypes.number,siteId:_react.PropTypes.number,status:_react.PropTypes.string,canDelete:_react.PropTypes.bool,trashPost:_react.PropTypes.func,deletePost:_react.PropTypes.func};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getPost)(state,ownProps.globalId);if(!post){return{}}var userId=(0,_selectors2.getCurrentUserId)(state);var isAuthor=post.author&&post.author.ID===userId;return{postId:post.ID,siteId:post.site_ID,status:post.status,canDelete:(0,_selectors2.canCurrentUser)(state,post.site_ID,isAuthor?"delete_posts":"delete_others_posts")}},{trashPost:_actions.trashPost,deletePost:_actions.deletePost})((0,_i18nCalypso.localize)(PostActionsEllipsisMenuTrash));module.exports=exports["default"]},2883:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(21);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(23);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(22);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _includes=__webpack_require__(30);var _includes2=_interopRequireDefault(_includes);var _menuItem=__webpack_require__(1652);var _menuItem2=_interopRequireDefault(_menuItem);var _analytics=__webpack_require__(20);var _selectors=__webpack_require__(112);var _selectors2=__webpack_require__(79);var _actions=__webpack_require__(300);var _actions2=__webpack_require__(82);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PostActionsEllipsisMenuView=function(_Component){(0,_inherits3.default)(PostActionsEllipsisMenuView,_Component);function PostActionsEllipsisMenuView(){(0,_classCallCheck3.default)(this,PostActionsEllipsisMenuView);var _this=(0,_possibleConstructorReturn3.default)(this,(PostActionsEllipsisMenuView.__proto__||(0,_getPrototypeOf2.default)(PostActionsEllipsisMenuView)).apply(this,arguments));_this.previewPost=_this.previewPost.bind(_this);return _this}(0,_createClass3.default)(PostActionsEllipsisMenuView,[{key:"previewPost",value:function previewPost(event){var _props=this.props;var isPreviewable=_props.isPreviewable;var previewUrl=_props.previewUrl;_analytics.mc.bumpStat("calypso_cpt_actions","view");if(!isPreviewable){return}this.props.setPreviewUrl(previewUrl);this.props.setLayoutFocus("preview");event.preventDefault()}},{key:"render",value:function render(){var _props2=this.props;var translate=_props2.translate;var status=_props2.status;var previewUrl=_props2.previewUrl;if(!previewUrl){return null}return _react2.default.createElement(_menuItem2.default,{href:previewUrl,onClick:this.previewPost,icon:"visible",target:"_blank",rel:"noopener noreferrer"},(0,_includes2.default)(["publish","private"],status)?translate("View",{context:"verb"}):translate("Preview",{context:"verb"}))}}]);return PostActionsEllipsisMenuView}(_react.Component);PostActionsEllipsisMenuView.propTypes={globalId:_react.PropTypes.string,translate:_react.PropTypes.func.isRequired,status:_react.PropTypes.string,isPreviewable:_react.PropTypes.bool,previewUrl:_react.PropTypes.string,setPreviewUrl:_react.PropTypes.func.isRequired,setLayoutFocus:_react.PropTypes.func.isRequired};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getPost)(state,ownProps.globalId);if(!post){return{}}return{status:post.status,isPreviewable:false!==(0,_selectors2.isSitePreviewable)(state,post.site_ID),previewUrl:(0,_selectors.getPostPreviewUrl)(state,post.site_ID,post.ID)}},{setPreviewUrl:_actions.setPreviewUrl,setLayoutFocus:_actions2.setLayoutFocus})((0,_i18nCalypso.localize)(PostActionsEllipsisMenuView));module.exports=exports["default"]},2884:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(10);var _classnames2=_interopRequireDefault(_classnames);var _reactRedux=__webpack_require__(15);var _get=__webpack_require__(24);var _get2=_interopRequireDefault(_get);var _resizeImageUrl=__webpack_require__(1769);var _resizeImageUrl2=_interopRequireDefault(_resizeImageUrl);var _selectors=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostTypeListPostThumbnail(_ref){var thumbnail=_ref.thumbnail;var classes=(0,_classnames2.default)("post-type-list__post-thumbnail-wrapper",{"has-image":!!thumbnail});return _react2.default.createElement("div",{className:classes},thumbnail&&_react2.default.createElement("img",{src:(0,_resizeImageUrl2.default)(thumbnail,{h:80}),className:"post-type-list__post-thumbnail"}))}PostTypeListPostThumbnail.propTypes={globalId:_react.PropTypes.string,thumbnail:_react.PropTypes.string};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getNormalizedPost)(state,ownProps.globalId);var thumbnail=(0,_get2.default)(post,"canonical_image.uri");return{thumbnail:thumbnail}})(PostTypeListPostThumbnail);module.exports=exports["default"]},2885:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get2=__webpack_require__(24);var _get3=_interopRequireDefault(_get2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _i18nCalypso=__webpack_require__(11);var _selectors=__webpack_require__(112);var _selectors2=__webpack_require__(79);var _gridicon=__webpack_require__(26);var _gridicon2=_interopRequireDefault(_gridicon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostTypePostAuthor(_ref){var translate=_ref.translate;var singleUserSite=_ref.singleUserSite;var name=_ref.name;if(!name||singleUserSite){return null}return _react2.default.createElement("div",{className:"post-type-post-author"},_react2.default.createElement(_gridicon2.default,{icon:"user",size:18,className:"post-type-post-author__icon"}),translate("by %(name)s",{args:{name:name}}))}PostTypePostAuthor.propTypes={translate:_react.PropTypes.func,globalId:_react.PropTypes.string,singleUserSite:_react.PropTypes.bool,name:_react.PropTypes.string};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var post=(0,_selectors.getPost)(state,ownProps.globalId);var singleUserSite=void 0;if(post){singleUserSite=(0,_selectors2.isSingleUserSite)(state,post.site_ID)}return{singleUserSite:singleUserSite,name:(0,_get3.default)(post,["author","name"])}})((0,_i18nCalypso.localize)(PostTypePostAuthor));module.exports=exports["default"]},2999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.redirect=redirect;exports.list=list;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _page=__webpack_require__(33);var _page2=_interopRequireDefault(_page);var _main=__webpack_require__(3e3);var _main2=_interopRequireDefault(_main);var _path=__webpack_require__(222);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function redirect(){_page2.default.redirect("/posts")}function list(context,next){context.primary=_react2.default.createElement(_main2.default,{query:{type:context.params.type,status:(0,_path.mapPostStatus)(context.params.status),search:context.query.s}});next()}},3e3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _get=__webpack_require__(24);var _get2=_interopRequireDefault(_get);var _main=__webpack_require__(166);var _main2=_interopRequireDefault(_main);var _documentHead=__webpack_require__(721);var _documentHead2=_interopRequireDefault(_documentHead);var _pageViewTracker=__webpack_require__(1736);var _pageViewTracker2=_interopRequireDefault(_pageViewTracker);var _sidebarNavigation=__webpack_require__(1656);var _sidebarNavigation2=_interopRequireDefault(_sidebarNavigation);var _postTypeFilter=__webpack_require__(2874);var _postTypeFilter2=_interopRequireDefault(_postTypeFilter);var _postTypeList=__webpack_require__(2876);var _postTypeList2=_interopRequireDefault(_postTypeList);var _postTypeUnsupported=__webpack_require__(3002);var _postTypeUnsupported2=_interopRequireDefault(_postTypeUnsupported);var _postTypeForbidden=__webpack_require__(3001);var _postTypeForbidden2=_interopRequireDefault(_postTypeForbidden);var _selectors=__webpack_require__(47);var _selectors2=__webpack_require__(390);var _selectors3=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Types(_ref){var siteId=_ref.siteId;var query=_ref.query;var postType=_ref.postType;var postTypeSupported=_ref.postTypeSupported;var userCanEdit=_ref.userCanEdit;return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_documentHead2.default,{title:(0,_get2.default)(postType,"label")}),_react2.default.createElement(_pageViewTracker2.default,{path:siteId?"/types/:site":"/types",title:"Custom Post Type"}),_react2.default.createElement(_sidebarNavigation2.default,null),false!==userCanEdit&&false!==postTypeSupported&&[_react2.default.createElement(_postTypeFilter2.default,{key:"filter",query:userCanEdit?query:null}),_react2.default.createElement(_postTypeList2.default,{key:"list",query:userCanEdit?query:null})],false===postTypeSupported&&_react2.default.createElement(_postTypeUnsupported2.default,{type:query.type}),false===userCanEdit&&_react2.default.createElement(_postTypeForbidden2.default,null))}Types.propTypes={siteId:_react.PropTypes.number,query:_react.PropTypes.object,postType:_react.PropTypes.object,postTypeSupported:_react.PropTypes.bool,userCanEdit:_react.PropTypes.bool};exports.default=(0,_reactRedux.connect)(function(state,ownProps){var siteId=(0,_selectors.getSelectedSiteId)(state);var postType=(0,_selectors2.getPostType)(state,siteId,ownProps.query.type);var capability=(0,_get2.default)(postType,["capabilities","edit_posts"],null);return{siteId:siteId,postType:postType,postTypeSupported:(0,_selectors2.isPostTypeSupported)(state,siteId,ownProps.query.type),userCanEdit:(0,_selectors3.canCurrentUser)(state,siteId,capability)}})(Types);module.exports=exports["default"]},3001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _i18nCalypso=__webpack_require__(11);var _emptyContent=__webpack_require__(207);var _emptyContent2=_interopRequireDefault(_emptyContent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PostTypeForbidden(_ref){var translate=_ref.translate;return _react2.default.createElement(_emptyContent2.default,{illustration:"/calypso/images/drake/drake-whoops.svg",title:translate("You need permission to manage this post type"),line:translate("Ask your site administrator to grant you access")})}PostTypeForbidden.propTypes={translate:_react.PropTypes.func};exports.default=(0,_i18nCalypso.localize)(PostTypeForbidden);module.exports=exports["default"]},3002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(15);var _includes=__webpack_require__(30);var _includes2=_interopRequireDefault(_includes);var _i18nCalypso=__webpack_require__(11);var _emptyContent=__webpack_require__(207);var _emptyContent2=_interopRequireDefault(_emptyContent);var _selectors=__webpack_require__(47);var _selectors2=__webpack_require__(90);var _selectors3=__webpack_require__(79);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CONFIGURABLE_TYPES=["jetpack-portfolio","jetpack-testimonial"];function PostTypeUnsupported(_ref){var translate=_ref.translate;var canManage=_ref.canManage;var siteSlug=_ref.siteSlug;var type=_ref.type;var isConfigurableType=(0,_includes2.default)(CONFIGURABLE_TYPES,type);var title=void 0,line=void 0,action=void 0,actionUrl=void 0;if(isConfigurableType&&canManage){switch(type){case"jetpack-portfolio":title=translate("Portfolios are not enabled");break;case"jetpack-testimonial":title=translate("Testimonials are not enabled");break}line=translate("Activate custom content types in your site settings");action=translate("Manage Settings");actionUrl="/settings/writing/"+siteSlug}else{line=translate("Your site does not support this content type")}if(!title){title=translate("Content type unsupported")}return _react2.default.createElement(_emptyContent2.default,{title:title,line:line,action:action,actionURL:actionUrl})}PostTypeUnsupported.propTypes={translate:_react.PropTypes.func,canManage:_react.PropTypes.bool,siteSlug:_react.PropTypes.string,type:_react.PropTypes.string};exports.default=(0,_reactRedux.connect)(function(state){var siteId=(0,_selectors.getSelectedSiteId)(state);return{canManage:(0,_selectors2.canCurrentUser)(state,siteId,"manage_options"),siteSlug:(0,_selectors3.getSiteSlug)(state,siteId)}})((0,_i18nCalypso.localize)(PostTypeUnsupported));module.exports=exports["default"]},3551:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(44);var _reactDom2=_interopRequireDefault(_reactDom);var _reactAddonsShallowCompare=__webpack_require__(738);var _reactAddonsShallowCompare2=_interopRequireDefault(_reactAddonsShallowCompare);var _raf=__webpack_require__(1870);var _raf2=_interopRequireDefault(_raf);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IS_SCROLLING_TIMEOUT=150;var WindowScroller=function(_Component){_inherits(WindowScroller,_Component);function WindowScroller(props){_classCallCheck(this,WindowScroller);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(WindowScroller).call(this,props));_this.state={scrollTop:0,height:0};_this._onScrollWindow=_this._onScrollWindow.bind(_this);_this._onResizeWindow=_this._onResizeWindow.bind(_this);_this._enablePointerEventsAfterDelayCallback=_this._enablePointerEventsAfterDelayCallback.bind(_this);return _this}_createClass(WindowScroller,[{key:"componentDidMount",value:function componentDidMount(){this._positionFromTop=_reactDom2.default.findDOMNode(this).getBoundingClientRect().top;this.setState({height:window.innerHeight});window.addEventListener("scroll",this._onScrollWindow,false);window.addEventListener("resize",this._onResizeWindow,false)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("scroll",this._onScrollWindow,false);window.removeEventListener("resize",this._onResizeWindow,false)}},{key:"_setNextState",value:function _setNextState(state){var _this2=this;if(this._setNextStateAnimationFrameId){_raf2.default.cancel(this._setNextStateAnimationFrameId)}this._setNextStateAnimationFrameId=(0,_raf2.default)(function(){_this2._setNextStateAnimationFrameId=null;_this2.setState(state)})}},{key:"render",value:function render(){var children=this.props.children;var _state=this.state;var scrollTop=_state.scrollTop;var height=_state.height;return _react2.default.createElement("div",null,children({height:height,scrollTop:scrollTop}))}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return(0,_reactAddonsShallowCompare2.default)(this,nextProps,nextState)}},{key:"_enablePointerEventsAfterDelay",value:function _enablePointerEventsAfterDelay(){if(this._disablePointerEventsTimeoutId){clearTimeout(this._disablePointerEventsTimeoutId)}this._disablePointerEventsTimeoutId=setTimeout(this._enablePointerEventsAfterDelayCallback,IS_SCROLLING_TIMEOUT)}},{key:"_enablePointerEventsAfterDelayCallback",value:function _enablePointerEventsAfterDelayCallback(){this._disablePointerEventsTimeoutId=null;document.body.style.pointerEvents=this._originalBodyPointerEvents;this._originalBodyPointerEvents=null}},{key:"_onResizeWindow",value:function _onResizeWindow(event){var onResize=this.props.onResize;var height=window.innerHeight||0;this.setState({height:height});onResize({height:height})}},{key:"_onScrollWindow",value:function _onScrollWindow(event){var onScroll=this.props.onScroll;var scrollY="scrollY"in window?window.scrollY:document.documentElement.scrollTop;var scrollTop=Math.max(0,scrollY-this._positionFromTop);this._setNextState({scrollTop:scrollTop});if(this._originalBodyPointerEvents==null){this._originalBodyPointerEvents=document.body.style.pointerEvents;document.body.style.pointerEvents="none";this._enablePointerEventsAfterDelay()}onScroll({scrollTop:scrollTop})}}]);return WindowScroller}(_react.Component);WindowScroller.propTypes={children:_react.PropTypes.func.isRequired,onResize:_react.PropTypes.func.isRequired,onScroll:_react.PropTypes.func.isRequired};WindowScroller.defaultProps={onResize:function onResize(){},onScroll:function onScroll(){}};exports.default=WindowScroller},3552:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{
value:true});exports.WindowScroller=exports.default=undefined;var _WindowScroller2=__webpack_require__(3551);var _WindowScroller3=_interopRequireDefault(_WindowScroller2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_WindowScroller3.default;exports.WindowScroller=_WindowScroller3.default}});